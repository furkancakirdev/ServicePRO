"use strict";(()=>{var e={};e.id=5701,e.ids=[5701],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},96975:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>w,patchFetch:()=>S,requestAsyncStorage:()=>v,routeModule:()=>h,serverHooks:()=>j,staticGenerationAsyncStorage:()=>y});var s={};t.r(s),t.d(s,{GET:()=>x,POST:()=>f});var o=t(49303),a=t(88716),n=t(60670),i=t(92048),u=t.n(i),p=t(55315),c=t.n(p),l=t(87070);let d=c().join(process.cwd(),"data","users.json");function m(){try{if(!u().existsSync(d))return[];let e=u().readFileSync(d,"utf-8");return JSON.parse(e)}catch(e){return console.error("Error reading users:",e),[]}}async function x(){try{let e=m().map(({password:e,...r})=>r);return l.NextResponse.json(e)}catch(e){return l.NextResponse.json({error:"Failed to fetch users"},{status:500})}}async function f(e){try{let r=await e.json(),t=m();if(t.some(e=>e.email.toLowerCase()===r.email.toLowerCase()))return l.NextResponse.json({error:"Bu e-posta zaten kullanÄ±mda"},{status:400});let s={id:`U${Date.now()}`,ad:r.ad,email:r.email,password:r.password||"servicepro123",rol:r.rol||"yetkili",aktif:!0};t.push(s),u().writeFileSync(d,JSON.stringify(t,null,2));let{password:o,...a}=s;return l.NextResponse.json(a,{status:201})}catch(e){return l.NextResponse.json({error:"Failed to create user"},{status:500})}}let h=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/users/route",pathname:"/api/users",filename:"route",bundlePath:"app/api/users/route"},resolvedPagePath:"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\api\\users\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:v,staticGenerationAsyncStorage:y,serverHooks:j}=h,w="/api/users/route";function S(){return(0,n.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:y})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,5972],()=>t(96975));module.exports=s})();