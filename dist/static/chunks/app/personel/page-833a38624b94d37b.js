(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{8953:function(e,a,n){Promise.resolve().then(n.bind(n,6790))},6790:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return s}});var i=n(7437),t=n(2265),l=n(7648),r=n(4939),o=n(9116);function s(){let[e,a]=(0,t.useState)([]),[n,l]=(0,t.useState)("tumu"),[r,s]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!0),[m,k]=(0,t.useState)(!1),[f,y]=(0,t.useState)({ad:"",unvan:"teknisyen"});(0,t.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await (0,o.$c)();a(e)}catch(e){console.error("Failed to load personnel:",e)}finally{d(!1)}},p=async e=>{e.preventDefault();try{(await fetch("/api/personnel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ad:f.ad,unvan:f.unvan,rol:"teknisyen",aktif:!0})})).ok&&(k(!1),y({ad:"",unvan:"teknisyen"}),v())}catch(e){console.error("Failed to add personnel:",e)}},h=e.filter(e=>(!!r||!!e.aktif)&&("tumu"===n||e.rol===n)),b=h.filter(e=>"teknisyen"===e.rol),g=h.filter(e=>"yetkili"===e.rol);return u?(0,i.jsx)("div",{style:{textAlign:"center",padding:"var(--space-2xl)"},children:"⏳ Y\xfckleniyor..."}):(0,i.jsxs)("div",{className:"animate-fade-in",children:[(0,i.jsxs)("header",{className:"page-header",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"page-title",children:"\uD83D\uDC65 Personel Y\xf6netimi"}),(0,i.jsxs)("p",{style:{color:"var(--color-text-muted)"},children:[e.filter(e=>e.aktif).length," aktif personel"]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[(0,i.jsx)("button",{onClick:()=>l("tumu"),className:"tumu"===n?"btn btn-primary":"btn btn-secondary",children:"T\xfcm\xfc"}),(0,i.jsx)("button",{onClick:()=>l("teknisyen"),className:"teknisyen"===n?"btn btn-primary":"btn btn-secondary",children:"\uD83D\uDC77 Teknisyenler"}),(0,i.jsx)("button",{onClick:()=>k(!m),className:"btn btn-primary",children:m?"✕ İptal":"➕ Yeni Personel"})]})]}),m&&(0,i.jsxs)("div",{className:"card",style:{marginBottom:"var(--space-lg)"},children:[(0,i.jsx)("h3",{className:"card-title",children:"➕ Yeni Personel Ekle"}),(0,i.jsx)("form",{onSubmit:p,children:(0,i.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(3, 1fr)",gap:"var(--space-md)",alignItems:"end"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"var(--space-xs)",fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Ad Soyad"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:f.ad,onChange:e=>y({...f,ad:e.target.value}),placeholder:"\xd6rn: Mehmet Yılmaz",required:!0,style:{width:"100%"}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"var(--space-xs)",fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Unvan"}),(0,i.jsxs)("select",{className:"form-select",value:f.unvan,onChange:e=>y({...f,unvan:e.target.value}),style:{width:"100%"},children:[(0,i.jsx)("option",{value:"ustabasi",children:"Ustabaşı"}),(0,i.jsx)("option",{value:"teknisyen",children:"Teknisyen"}),(0,i.jsx)("option",{value:"cirak",children:"\xc7ırak"})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",className:"btn btn-success",style:{width:"100%"},children:"✅ Ekle"})})]})})]}),("tumu"===n||"teknisyen"===n)&&b.length>0&&(0,i.jsxs)("section",{style:{marginBottom:"var(--space-xl)"},children:[(0,i.jsxs)("h2",{style:{marginBottom:"var(--space-md)",color:"var(--color-text-muted)"},children:["\uD83D\uDC77 Teknisyenler (",b.length,")"]}),(0,i.jsx)("div",{className:"grid grid-cols-3",style:{gap:"var(--space-md)"},children:b.map(e=>(0,i.jsx)(c,{personel:e},e.id))})]}),("tumu"===n||"yetkili"===n)&&g.length>0&&(0,i.jsxs)("section",{children:[(0,i.jsxs)("h2",{style:{marginBottom:"var(--space-md)",color:"var(--color-text-muted)"},children:["\uD83D\uDC54 Yetkililer (",g.length,")"]}),(0,i.jsx)("div",{className:"grid grid-cols-3",style:{gap:"var(--space-md)"},children:g.map(e=>(0,i.jsx)(c,{personel:e,isYetkili:!0},e.id))})]}),0===b.length&&0===g.length&&(0,i.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"var(--space-2xl)"},children:[(0,i.jsx)("div",{style:{fontSize:"3rem",marginBottom:"var(--space-md)"},children:"\uD83D\uDC65"}),(0,i.jsx)("h3",{children:"Hen\xfcz personel eklenmemiş"}),(0,i.jsx)("p",{style:{color:"var(--color-text-muted)"},children:'Yukarıdaki "Yeni Personel" butonunu kullanarak personel ekleyebilirsiniz.'})]})]})}function c(e){let{personel:a,isYetkili:n=!1}=e,t=r.Rf[a.unvan]||{icon:"\uD83D\uDC64",label:a.unvan},o=(a.altinRozet||0)+(a.gumusRozet||0)+(a.bronzRozet||0);return(0,i.jsxs)(l.default,{href:"/personel/".concat(a.id),className:"card",style:{display:"block",textDecoration:"none",opacity:a.aktif?1:.5,borderLeft:"4px solid ".concat(n?"var(--color-accent-gold)":"var(--color-primary)")},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-md)",marginBottom:"var(--space-md)"},children:[(0,i.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"var(--radius-full)",background:n?"var(--color-accent-gold)":"var(--color-primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:t.icon}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("div",{style:{fontWeight:600,color:"var(--color-text)"},children:a.ad}),(0,i.jsxs)("div",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)"},children:[t.label,!a.aktif&&" • Pasif"]})]})]}),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--space-sm)",marginBottom:"var(--space-md)"},children:[(0,i.jsxs)("div",{style:{padding:"var(--space-sm)",background:"var(--color-bg)",borderRadius:"var(--radius-sm)",textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--color-primary)"},children:a.aylikServisSayisi||0}),(0,i.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)"},children:"servis/ay"})]}),(0,i.jsxs)("div",{style:{padding:"var(--space-sm)",background:"var(--color-bg)",borderRadius:"var(--radius-sm)",textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--color-success)"},children:a.aylikOrtalamaPuan||0}),(0,i.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)"},children:"puan"})]})]}),o>0&&(0,i.jsxs)("div",{style:{display:"flex",gap:"var(--space-xs)",justifyContent:"center"},children:[(a.altinRozet||0)>0&&(0,i.jsxs)("span",{title:"Altın Rozet",children:["\uD83E\uDD47 \xd7",a.altinRozet]}),(a.gumusRozet||0)>0&&(0,i.jsxs)("span",{title:"G\xfcm\xfcş Rozet",children:["\uD83E\uDD48 \xd7",a.gumusRozet]}),(a.bronzRozet||0)>0&&(0,i.jsxs)("span",{title:"Bronz Rozet",children:["\uD83E\uDD49 \xd7",a.bronzRozet]})]})]})]})}},9116:function(e,a,n){"use strict";async function i(e){let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch ".concat(e,": ").concat(a.statusText));return a.json()}async function t(){return i("/api/services")}async function l(e){try{return await i("/api/services/".concat(e))}catch(e){return null}}async function r(e,a){return(await fetch("/api/services/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok}async function o(){return i("/api/personnel")}async function s(e){try{return await i("/api/personnel/".concat(e))}catch(e){return null}}n.d(a,{$c:function(){return o},Pg:function(){return r},Qz:function(){return t},hi:function(){return s},nh:function(){return l}})},7648:function(e,a,n){"use strict";n.d(a,{default:function(){return t.a}});var i=n(2972),t=n.n(i)},4939:function(e,a,n){"use strict";n.d(a,{DV:function(){return f},FI:function(){return i},G7:function(){return l},GS:function(){return m},Ib:function(){return r},Rf:function(){return o},YH:function(){return t},YU:function(){return k},pb:function(){return c},qY:function(){return u},sY:function(){return s},un:function(){return d}});let i={RANDEVU_VERILDI:{label:"Randevu Verildi",color:"#0891b2",bgColor:"#ecfeff",icon:"\uD83D\uDCC5"},DEVAM_EDIYOR:{label:"Devam Ediyor",color:"#16a34a",bgColor:"#f0fdf4",icon:"\uD83D\uDD04"},PARCA_BEKLIYOR:{label:"Par\xe7a Bekliyor",color:"#ea580c",bgColor:"#fff7ed",icon:"\uD83D\uDCE6"},MUSTERI_ONAY_BEKLIYOR:{label:"Onay Bekliyor",color:"#ca8a04",bgColor:"#fefce8",icon:"⏳"},RAPOR_BEKLIYOR:{label:"Rapor Bekliyor",color:"#2563eb",bgColor:"#eff6ff",icon:"\uD83D\uDCDD"},KESIF_KONTROL:{label:"Keşif-Kontrol",color:"#9333ea",bgColor:"#faf5ff",icon:"\uD83D\uDD0D"},TAMAMLANDI:{label:"Tamamlandı",color:"#57534e",bgColor:"#f5f5f4",icon:"✅"}},t={YATMARIN:{label:"Yatmarin (Merkez)",color:"#0f766e",icon:"\uD83C\uDFE0"},NETSEL:{label:"Netsel",color:"#1d4ed8",icon:"⚓"},DIS_SERVIS:{label:"Dış Servis",color:"#7c3aed",icon:"\uD83D\uDE97"}};function l(e){let a=e.toUpperCase();return a.includes("YATMARİN")||a.includes("YATMARIN")?"YATMARIN":a.includes("NETSEL")?"NETSEL":"DIS_SERVIS"}let r={PAKET:{label:"Paket İş (Rutin)",carpan:1},ARIZA:{label:"Arıza / Keşif",carpan:1.2},PROJE:{label:"Proje / Refit",carpan:1.5}},o={usta:{label:"Usta",icon:"\uD83D\uDC68‍\uD83D\uDD27"},cirak:{label:"\xc7ırak",icon:"\uD83D\uDC77"},yonetici:{label:"Y\xf6netici",icon:"\uD83D\uDC54"},ofis:{label:"Ofis",icon:"\uD83C\uDFE2"}},s={PAKET:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","stokMalzeme"],ARIZA:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","stokMalzeme"],PROJE:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","taseronBilgisi","stokMalzeme"]},c={EVET:100,KISMEN:60,HAYIR:0,ATLA:null},u=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"musteriIletisimi",label:"M\xfcşteri İletişim Kalitesi",aciklama:"M\xfcşterilerle profesyonel ve saygılı iletişim kurdu mu? Şikayet aldı mı?"},{key:"planlamaKoordinasyon",label:"Planlama ve Koordinasyon",aciklama:"İş planına uydu mu? Değişiklikleri zamanında bildirdi mi?"},{key:"teknikTespit",label:"Teknik Tespit Yeteneği",aciklama:"Arızaları ve ek iş ihtiya\xe7larını doğru tespit edebildi mi?"},{key:"raporDokumantasyon",label:"Rapor ve Dok\xfcmantasyon",aciklama:"İş raporlarını eksiksiz ve zamanında teslim etti mi?"},{key:"genelLiderlik",label:"Genel Liderlik",aciklama:"Ekibini y\xf6netti mi? \xc7ıraklara rehberlik etti mi? Sorumluluk aldı mı?"}],d=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"ekipIciDavranis",label:"Ekip İ\xe7i Davranış",aciklama:"Ekip arkadaşlarıyla uyumlu \xe7alıştı mı? \xc7atışma veya tutum problemi var mıydı?"},{key:"destekKalitesi",label:"Ustalara Destek Kalitesi",aciklama:"Ustalara verilen g\xf6revlerde yardımcı oldu mu? Talimatlara uydu mu?"},{key:"ogrenmeGelisim",label:"\xd6ğrenme İsteği ve Gelişim",aciklama:"Bu ay yeni bir şey \xf6ğrendi mi? Soru sordu mu? İlerleme kaydetti mi?"}],m={1:{label:"\xc7ok Yetersiz",color:"#ef4444"},2:{label:"Geliştirilmeli",color:"#f97316"},3:{label:"Standart",color:"#eab308"},4:{label:"İyi",color:"#22c55e"},5:{label:"M\xfckemmel",color:"#10b981"}},k=["Furkan \xc7akır","İsmail \xc7oban","Senem Kaptan","Diğer"],f=[{id:"1",ad:"Ali Can Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"2",ad:"Alican Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"3",ad:"Batuhan \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"4",ad:"C\xfcneyt Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"5",ad:"Emre Kaya",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"6",ad:"Erhan Turhan",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"7",ad:"Halil İbrahim Duru",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"8",ad:"İbrahim Yayalık",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"9",ad:"İbrahim Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"10",ad:"Mehmet Bacak",rol:"teknisyen",unvan:"cirak",aktif:!1},{id:"11",ad:"Mehmet G\xfcven",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"12",ad:"Melih \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"13",ad:"Sercan Sarız",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"14",ad:"Volkan \xd6zkan",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"15",ad:"Yusuf Kara",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"16",ad:"Ahmet Demir",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"17",ad:"Mustafa Yıldız",rol:"teknisyen",unvan:"cirak",aktif:!0}]}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=8953)}),_N_E=e.O()}]);