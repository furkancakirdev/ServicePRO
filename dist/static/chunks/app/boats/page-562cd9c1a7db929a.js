(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{6076:function(e,s,i){Promise.resolve().then(i.bind(i,2895))},2895:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return h}});var l=i(7437),n=i(2265),r=i(7648),t=i(7542),a=i(4689),d=i(6942);let o={Plus:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Search:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,l.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Anchor:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("circle",{cx:"12",cy:"5",r:"3"}),(0,l.jsx)("line",{x1:"12",y1:"22",x2:"12",y2:"8"}),(0,l.jsx)("path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"})]}),Refresh:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,l.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,l.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),Eye:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),Edit:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,l.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Ship:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),(0,l.jsx)("path",{d:"M19.38 20A10.08 10.08 0 0 0 21 16"}),(0,l.jsx)("path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"}),(0,l.jsx)("path",{d:"M12 10V4.5"}),(0,l.jsx)("path",{d:"M9 7a3 3 0 0 1 6 0"})]}),Ruler:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M21.2 15c.7 0 1.3-.5 1.3-1.2 0-.6-.4-1.1-1-1.2L12 2 2.5 12.6c-.6.1-1 .6-1 1.2 0 .7.6 1.2 1.3 1.2h18.4z"}),(0,l.jsx)("path",{d:"M12 2v20"}),(0,l.jsx)("path",{d:"M2 12h20"})]})},c=[{value:"all",label:"T\xfcm Tipler"},{value:"MOTOR_YAT",label:"Motor Yat"},{value:"YELKENLI",label:"Yelkenli"},{value:"KATAMARAN",label:"Katamaran"},{value:"GULET",label:"Gulet"},{value:"TRAWLER",label:"Trawler"},{value:"DIĞER",label:"Diğer"}];function h(){let{isAuthenticated:e,isLoading:s}=(0,d.a)(),[i,h]=(0,n.useState)([]),[x,j]=(0,n.useState)(!0),[u,v]=(0,n.useState)(""),[p,m]=(0,n.useState)("all"),[w,g]=(0,n.useState)(0),[k,f]=(0,n.useState)(10),[y,b]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=async()=>{try{let e=new URLSearchParams({page:(w+1).toString(),limit:k.toString(),...u&&{search:u},..."all"!==p&&{tip:p}}),s=await fetch("/api/boats?".concat(e));if(s.ok){let e=await s.json();h(e.data||[]),b(e.total||0)}}catch(e){console.error("Tekneler getirilemedi:",e)}finally{j(!1)}};s||e()},[w,k,u,p,s]);let L=i.filter(e=>{let s=e.adi.toLowerCase().includes(u.toLowerCase())||e.sahibi.toLowerCase().includes(u.toLowerCase()),i="all"===p||e.tip===p;return s&&i}),N=e=>{let s=c.find(s=>s.value===e);return(null==s?void 0:s.label)||e};return s?(0,l.jsx)(a.Z,{children:(0,l.jsx)(t.Zb,{children:(0,l.jsx)(t.aY,{className:"pt-6",children:(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(t.Od,{className:"h-12 w-full"},s))})})})}):(0,l.jsxs)(a.Z,{title:"Tekneler",subtitle:"Tekne envanterini ve bakım ge\xe7mişini y\xf6netin",showSearch:!1,actions:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(t.zx,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:[(0,l.jsx)(o.Refresh,{}),"Yenile"]}),(0,l.jsx)(r.default,{href:"/boats/new",children:(0,l.jsxs)(t.zx,{children:[(0,l.jsx)(o.Plus,{}),"Yeni Tekne"]})})]}),children:[(0,l.jsx)(t.Zb,{className:"mb-6",children:(0,l.jsx)(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(o.Search,{}),(0,l.jsx)(t.II,{placeholder:"Tekne adı veya sahip ara...",value:u,onChange:e=>v(e.target.value),className:"pl-10"})]}),(0,l.jsxs)(t.Ph,{value:p,onValueChange:m,children:[(0,l.jsx)(t.i4,{className:"w-full md:w-48",children:(0,l.jsx)(t.ki,{placeholder:"Tip filtrele"})}),(0,l.jsx)(t.Bw,{children:c.map(e=>(0,l.jsx)(t.Ql,{value:e.value,children:e.label},e.value))})]})]})})}),(0,l.jsxs)(t.Zb,{children:[(0,l.jsxs)(t.Ol,{children:[(0,l.jsx)(t.ll,{children:"Tekne Envanteri"}),(0,l.jsxs)(t.SZ,{children:[y," tekne kayıtlı"]})]}),(0,l.jsx)(t.aY,{children:x?(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(t.Od,{className:"h-12 w-full"},s))}):0===L.length?(0,l.jsx)(t.ub,{icon:(0,l.jsx)(o.Anchor,{}),title:"Tekne Bulunamadı",description:u||"all"!==p?"Arama kriterlerinizi değiştirmeyi deneyin.":"Hen\xfcz bir tekne kaydedilmemiş.",action:(0,l.jsx)(r.default,{href:"/boats/new",children:(0,l.jsxs)(t.zx,{children:[(0,l.jsx)(o.Plus,{}),"İlk Tekneyi Ekle"]})})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.iA,{children:[(0,l.jsx)(t.xD,{children:(0,l.jsxs)(t.SC,{children:[(0,l.jsx)(t.ss,{children:"Tekne"}),(0,l.jsx)(t.ss,{children:"Tip"}),(0,l.jsx)(t.ss,{children:"Sahibi"}),(0,l.jsx)(t.ss,{children:"Boy"}),(0,l.jsx)(t.ss,{children:"Yapım Yılı"}),(0,l.jsx)(t.ss,{children:"Servis Sayısı"}),(0,l.jsx)(t.ss,{className:"text-right",children:"İşlemler"})]})}),(0,l.jsx)(t.RM,{children:L.map(e=>(0,l.jsxs)(t.SC,{children:[(0,l.jsx)(t.pj,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:(0,l.jsx)(o.Ship,{})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.adi}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"AKTIF"===e.durum?(0,l.jsx)("span",{className:"text-green-500",children:"● Aktif"}):(0,l.jsx)("span",{className:"text-gray-500",children:"● Pasif"})})]})]})}),(0,l.jsx)(t.pj,{children:(0,l.jsx)(t.Ct,{variant:"outline",children:N(e.tip)})}),(0,l.jsxs)(t.pj,{children:[(0,l.jsx)("div",{className:"font-medium",children:e.sahibi}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:e.telefon})]}),(0,l.jsx)(t.pj,{children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(o.Ruler,{}),e.boy," m"]})}),(0,l.jsx)(t.pj,{children:e.yapimYili||"-"}),(0,l.jsx)(t.pj,{children:(0,l.jsxs)(t.Ct,{variant:"secondary",children:[e.toplamServisSayisi||0," servis"]})}),(0,l.jsx)(t.pj,{className:"text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)(r.default,{href:"/boats/".concat(e.id),children:(0,l.jsx)(t.zx,{variant:"ghost",size:"icon",children:(0,l.jsx)(o.Eye,{})})}),(0,l.jsx)(r.default,{href:"/boats/".concat(e.id,"/edit"),children:(0,l.jsx)(t.zx,{variant:"ghost",size:"icon",children:(0,l.jsx)(o.Edit,{})})})]})})]},e.id))})]}),(0,l.jsx)(t.vI,{total:y,page:w,onPageChange:g,rowsPerPage:k,onRowsPerPageChange:e=>{f(e),g(0)}})]})})]})]})}}},function(e){e.O(0,[972,750,306,788,171,746,971,117,744],function(){return e(e.s=6076)}),_N_E=e.O()}]);