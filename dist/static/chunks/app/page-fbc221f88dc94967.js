(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4844:function(e,l,r){Promise.resolve().then(r.bind(r,7340))},7340:function(e,l,r){"use strict";r.r(l),r.d(l,{default:function(){return m}});var i=r(7437),a=r(7648),n=r(2265),s=r(9376),t=r(7542),o=r(4689),c=r(6942),d=r(4939);let u={Calendar:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,i.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,i.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,i.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},Refresh:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,i.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,i.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]})},CheckCircle:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,i.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})},Clock:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("polyline",{points:"12 6 12 12 16 14"})]})},Anchor:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("circle",{cx:"12",cy:"5",r:"3"}),(0,i.jsx)("line",{x1:"12",y1:"22",x2:"12",y2:"8"}),(0,i.jsx)("path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"})]})},Users:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,i.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,i.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,i.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},Plus:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})},TrendingUp:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),(0,i.jsx)("polyline",{points:"17 6 23 6 23 12"})]})},Activity:e=>{let{className:l}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:(0,i.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})})},ArrowRight:e=>{let{className:l}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,i.jsx)("polyline",{points:"12 5 19 12 12 19"})]})}};function m(){let e=(0,s.useRouter)(),{user:l,isAuthenticated:r,isLoading:m}=(0,c.a)(),[x,h]=(0,n.useState)(null),[k,v]=(0,n.useState)(!0);if((0,n.useEffect)(()=>{if(!r){m||e.push("/login");return}(async()=>{try{let e=await fetch("/api/stats");if(!e.ok)throw Error("İstatistikler getirilemedi");let l=await e.json();h(l)}catch(e){console.error("İstatistik hatası:",e)}finally{v(!1)}})()},[r,m,e]),m||k)return(0,i.jsx)(o.Z,{children:(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,l)=>(0,i.jsx)(t.Zb,{children:(0,i.jsxs)(t.aY,{className:"pt-6",children:[(0,i.jsx)(t.Od,{className:"h-12 w-12 rounded-lg mb-4"}),(0,i.jsx)(t.Od,{className:"h-8 w-20 mb-2"}),(0,i.jsx)(t.Od,{className:"h-4 w-28"})]})},l))})});if(!x)return(0,i.jsx)(o.Z,{children:(0,i.jsx)(t.Zb,{children:(0,i.jsxs)(t.aY,{className:"pt-6 text-center",children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Veri y\xfcklenirken hata oluştu."}),(0,i.jsx)(t.zx,{onClick:()=>window.location.reload(),className:"mt-4",children:"Yeniden Dene"})]})})});let f=[{title:"Bug\xfcnk\xfc Servisler",value:x.bugunServisler,icon:u.Calendar,color:"var(--color-primary)",bgColor:"rgba(14, 165, 233, 0.1)",trend:"+12%",trendUp:!0},{title:"Devam Eden",value:x.aktifServisler,icon:u.Refresh,color:"var(--color-success)",bgColor:"rgba(16, 185, 129, 0.1)",trend:"+5%",trendUp:!0},{title:"Tamamlanan",value:x.tamamlananServisler,icon:u.CheckCircle,color:"var(--color-info)",bgColor:"rgba(6, 182, 212, 0.1)",trend:"+18%",trendUp:!0},{title:"Bekleyen",value:x.bekleyenServisler,icon:u.Clock,color:"var(--color-warning)",bgColor:"rgba(245, 158, 11, 0.1)",trend:"-8%",trendUp:!1}],g=[{href:"/services/new",label:"Yeni Servis",icon:(0,i.jsx)(u.Plus,{}),color:"var(--color-primary)"},{href:"/boats",label:"Tekneler",icon:(0,i.jsx)(u.Anchor,{}),color:"var(--color-accent-gold)"},{href:"/team",label:"Personel",icon:(0,i.jsx)(u.Users,{}),color:"var(--color-info)"},{href:"/scoring",label:"Performans",icon:(0,i.jsx)(u.TrendingUp,{}),color:"var(--color-success)"}],p=e=>{switch(e){case"CREATE":return(0,i.jsx)("span",{className:"text-green-500",children:"➕"});case"UPDATE":return(0,i.jsx)("span",{className:"text-blue-500",children:"✏️"});case"DELETE":return(0,i.jsx)("span",{className:"text-red-500",children:"\uD83D\uDDD1️"});case"LOGIN":return(0,i.jsx)("span",{className:"text-purple-500",children:"\uD83D\uDD10"});case"LOGOUT":return(0,i.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDEAA"});default:return(0,i.jsx)("span",{className:"text-gray-400",children:"\uD83D\uDCCC"})}};return(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Hoş Geldin, ",null==l?void 0:l.ad,"! \uD83D\uDC4B"]}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"İşte g\xfcnl\xfck operasyonel \xf6zetiniz"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((e,l)=>(0,i.jsx)(t.Zb,{className:"stat-card",children:(0,i.jsxs)(t.aY,{className:"pt-6",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsx)("div",{className:"stat-icon",style:{background:e.bgColor,color:e.color},children:(0,i.jsx)(e.icon,{})}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium ".concat(e.trendUp?"text-green-500":"text-red-500"),children:[(0,i.jsx)(u.TrendingUp,{}),e.trend]})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"text-3xl font-bold",style:{color:e.color},children:e.value}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:e.title})]})]})},l))}),(0,i.jsxs)(t.Zb,{className:"mb-8",children:[(0,i.jsxs)(t.Ol,{children:[(0,i.jsx)(t.ll,{children:"Hızlı Erişim"}),(0,i.jsx)(t.SZ,{children:"Sık kullanılan işlemlere hızlıca erişin"})]}),(0,i.jsx)(t.aY,{children:(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map(e=>(0,i.jsxs)(a.default,{href:e.href,className:"flex flex-col items-center gap-3 p-6 rounded-xl border border-border bg-card/50 hover:bg-card hover:border-primary/50 transition-all duration-200 group",children:[(0,i.jsx)("div",{className:"p-3 rounded-lg transition-transform group-hover:scale-110",style:{background:"".concat(e.color,"20"),color:e.color},children:e.icon}),(0,i.jsx)("span",{className:"font-medium",children:e.label}),(0,i.jsx)(u.ArrowRight,{className:"opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]},e.href))})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)(t.Zb,{className:"lg:col-span-2",children:[(0,i.jsxs)(t.Ol,{children:[(0,i.jsxs)(t.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(u.Activity,{}),"Son Aktiviteler"]}),(0,i.jsx)(t.SZ,{children:"Sisteminizdeki son işlemler"})]}),(0,i.jsx)(t.aY,{children:0===x.sonAktiviteler.length?(0,i.jsxs)("div",{className:"empty-state py-12",children:[(0,i.jsx)(u.Activity,{className:"empty-state-icon"}),(0,i.jsx)("div",{className:"empty-state-title",children:"Aktivite Bulunamadı"}),(0,i.jsx)("div",{className:"empty-state-description",children:"Hen\xfcz sisteme kaydedilmiş bir aktivite yok."})]}):(0,i.jsx)("div",{className:"space-y-3",children:x.sonAktiviteler.slice(0,6).map(e=>(0,i.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:p(e.islem)}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("div",{className:"font-medium truncate",children:e.userAd}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleString("tr-TR")})]}),(0,i.jsx)(t.Ct,{variant:"CREATE"===e.islem?"default":"DELETE"===e.islem?"destructive":"secondary",children:"CREATE"===e.islem?"Oluşturuldu":"UPDATE"===e.islem?"G\xfcncellendi":"DELETE"===e.islem?"Silindi":e.islem})]},e.id))})})]}),(0,i.jsxs)(t.Zb,{children:[(0,i.jsxs)(t.Ol,{children:[(0,i.jsx)(t.ll,{children:"Durum Dağılımı"}),(0,i.jsx)(t.SZ,{children:"Servis durumlarının genel g\xf6r\xfcn\xfcm\xfc"})]}),(0,i.jsxs)(t.aY,{children:[(0,i.jsx)("div",{className:"space-y-5",children:x.durumDağılımı.map(e=>{let l=d.FI[e.durum],r=x.toplamServis?Math.round(e.sayı/x.toplamServis*100):0;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:null==l?void 0:l.color}}),(0,i.jsx)("span",{className:"text-sm font-medium",children:(null==l?void 0:l.label)||e.durum})]}),(0,i.jsx)("span",{className:"text-sm font-semibold",children:e.sayı})]}),(0,i.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:"".concat(r,"%"),backgroundColor:null==l?void 0:l.color}})}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[r,"%"]})]},e.durum)})}),(0,i.jsx)("div",{className:"mt-8 pt-6 border-t border-border",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:x.teknelerSayisi}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Toplam Tekne"})]}),(0,i.jsxs)("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:x.personelSayisi}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Toplam Personel"})]})]})})]})]})]})]})}},4939:function(e,l,r){"use strict";r.d(l,{DV:function(){return h},FI:function(){return i},G7:function(){return n},GS:function(){return m},Ib:function(){return s},Rf:function(){return t},YH:function(){return a},YU:function(){return x},pb:function(){return c},qY:function(){return d},sY:function(){return o},un:function(){return u}});let i={RANDEVU_VERILDI:{label:"Randevu Verildi",color:"#0891b2",bgColor:"#ecfeff",icon:"\uD83D\uDCC5"},DEVAM_EDIYOR:{label:"Devam Ediyor",color:"#16a34a",bgColor:"#f0fdf4",icon:"\uD83D\uDD04"},PARCA_BEKLIYOR:{label:"Par\xe7a Bekliyor",color:"#ea580c",bgColor:"#fff7ed",icon:"\uD83D\uDCE6"},MUSTERI_ONAY_BEKLIYOR:{label:"Onay Bekliyor",color:"#ca8a04",bgColor:"#fefce8",icon:"⏳"},RAPOR_BEKLIYOR:{label:"Rapor Bekliyor",color:"#2563eb",bgColor:"#eff6ff",icon:"\uD83D\uDCDD"},KESIF_KONTROL:{label:"Keşif-Kontrol",color:"#9333ea",bgColor:"#faf5ff",icon:"\uD83D\uDD0D"},TAMAMLANDI:{label:"Tamamlandı",color:"#57534e",bgColor:"#f5f5f4",icon:"✅"}},a={YATMARIN:{label:"Yatmarin (Merkez)",color:"#0f766e",icon:"\uD83C\uDFE0"},NETSEL:{label:"Netsel",color:"#1d4ed8",icon:"⚓"},DIS_SERVIS:{label:"Dış Servis",color:"#7c3aed",icon:"\uD83D\uDE97"}};function n(e){let l=e.toUpperCase();return l.includes("YATMARİN")||l.includes("YATMARIN")?"YATMARIN":l.includes("NETSEL")?"NETSEL":"DIS_SERVIS"}let s={PAKET:{label:"Paket İş (Rutin)",carpan:1},ARIZA:{label:"Arıza / Keşif",carpan:1.2},PROJE:{label:"Proje / Refit",carpan:1.5}},t={usta:{label:"Usta",icon:"\uD83D\uDC68‍\uD83D\uDD27"},cirak:{label:"\xc7ırak",icon:"\uD83D\uDC77"},yonetici:{label:"Y\xf6netici",icon:"\uD83D\uDC54"},ofis:{label:"Ofis",icon:"\uD83C\uDFE2"}},o={PAKET:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","stokMalzeme"],ARIZA:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","stokMalzeme"],PROJE:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","taseronBilgisi","stokMalzeme"]},c={EVET:100,KISMEN:60,HAYIR:0,ATLA:null},d=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"musteriIletisimi",label:"M\xfcşteri İletişim Kalitesi",aciklama:"M\xfcşterilerle profesyonel ve saygılı iletişim kurdu mu? Şikayet aldı mı?"},{key:"planlamaKoordinasyon",label:"Planlama ve Koordinasyon",aciklama:"İş planına uydu mu? Değişiklikleri zamanında bildirdi mi?"},{key:"teknikTespit",label:"Teknik Tespit Yeteneği",aciklama:"Arızaları ve ek iş ihtiya\xe7larını doğru tespit edebildi mi?"},{key:"raporDokumantasyon",label:"Rapor ve Dok\xfcmantasyon",aciklama:"İş raporlarını eksiksiz ve zamanında teslim etti mi?"},{key:"genelLiderlik",label:"Genel Liderlik",aciklama:"Ekibini y\xf6netti mi? \xc7ıraklara rehberlik etti mi? Sorumluluk aldı mı?"}],u=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"ekipIciDavranis",label:"Ekip İ\xe7i Davranış",aciklama:"Ekip arkadaşlarıyla uyumlu \xe7alıştı mı? \xc7atışma veya tutum problemi var mıydı?"},{key:"destekKalitesi",label:"Ustalara Destek Kalitesi",aciklama:"Ustalara verilen g\xf6revlerde yardımcı oldu mu? Talimatlara uydu mu?"},{key:"ogrenmeGelisim",label:"\xd6ğrenme İsteği ve Gelişim",aciklama:"Bu ay yeni bir şey \xf6ğrendi mi? Soru sordu mu? İlerleme kaydetti mi?"}],m={1:{label:"\xc7ok Yetersiz",color:"#ef4444"},2:{label:"Geliştirilmeli",color:"#f97316"},3:{label:"Standart",color:"#eab308"},4:{label:"İyi",color:"#22c55e"},5:{label:"M\xfckemmel",color:"#10b981"}},x=["Furkan \xc7akır","İsmail \xc7oban","Senem Kaptan","Diğer"],h=[{id:"1",ad:"Ali Can Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"2",ad:"Alican Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"3",ad:"Batuhan \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"4",ad:"C\xfcneyt Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"5",ad:"Emre Kaya",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"6",ad:"Erhan Turhan",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"7",ad:"Halil İbrahim Duru",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"8",ad:"İbrahim Yayalık",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"9",ad:"İbrahim Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"10",ad:"Mehmet Bacak",rol:"teknisyen",unvan:"cirak",aktif:!1},{id:"11",ad:"Mehmet G\xfcven",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"12",ad:"Melih \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"13",ad:"Sercan Sarız",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"14",ad:"Volkan \xd6zkan",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"15",ad:"Yusuf Kara",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"16",ad:"Ahmet Demir",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"17",ad:"Mustafa Yıldız",rol:"teknisyen",unvan:"cirak",aktif:!0}]}},function(e){e.O(0,[972,750,306,788,171,746,971,117,744],function(){return e(e.s=4844)}),_N_E=e.O()}]);