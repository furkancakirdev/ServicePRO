(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{649:function(e,i,a){Promise.resolve().then(a.bind(a,4944))},4944:function(e,i,a){"use strict";a.r(i),a.d(i,{default:function(){return u}});var l=a(7437),n=a(2265),r=a(7648),s=a(7542),t=a(4689),o=a(4939),d=a(6942);let c={Plus:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Search:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,l.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Filter:()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),Refresh:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,l.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,l.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),Calendar:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,l.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,l.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,l.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Eye:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),Edit:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,l.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Boat:()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),(0,l.jsx)("path",{d:"M19.38 20A10.08 10.08 0 0 0 21 16"}),(0,l.jsx)("path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"}),(0,l.jsx)("path",{d:"M12 10V4.5"}),(0,l.jsx)("path",{d:"M9 7a3 3 0 0 1 6 0"})]})};function u(){let{isAuthenticated:e,isLoading:i}=(0,d.a)(),[a,u]=(0,n.useState)([]),[m,h]=(0,n.useState)(!0),[k,x]=(0,n.useState)(""),[f,v]=(0,n.useState)("all"),[j,y]=(0,n.useState)(0),[g,p]=(0,n.useState)(10),[b,w]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=async()=>{try{let e=new URLSearchParams({page:(j+1).toString(),limit:g.toString(),...k&&{search:k},..."all"!==f&&{durum:f}}),i=await fetch("/api/service-appointments?".concat(e));if(i.ok){let e=await i.json();u(e.data||[]),w(e.total||0)}}catch(e){console.error("Servisler getirilemedi:",e)}finally{h(!1)}};i||e()},[j,g,k,f,i]);let D=a.filter(e=>{let i=e.tekneAdi.toLowerCase().includes(k.toLowerCase())||e.irtibatKisi.toLowerCase().includes(k.toLowerCase())||e.servisAciklamasi.toLowerCase().includes(k.toLowerCase()),a="all"===f||e.durum===f;return i&&a}),C=e=>{let i=o.FI[e];return(0,l.jsx)(s.Ct,{style:{backgroundColor:"".concat(null==i?void 0:i.color,"20"),color:null==i?void 0:i.color,borderColor:null==i?void 0:i.color},variant:"outline",children:(null==i?void 0:i.label)||e})},S=e=>{let i=o.Ib[e];return(0,l.jsx)(s.Ct,{variant:"secondary",children:(null==i?void 0:i.label)||e})};return i?(0,l.jsx)(t.Z,{children:(0,l.jsx)(s.Zb,{children:(0,l.jsx)(s.aY,{className:"pt-6",children:(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,i)=>(0,l.jsx)(s.Od,{className:"h-12 w-full"},i))})})})}):(0,l.jsxs)(t.Z,{title:"Servisler",subtitle:"Tekne servis randevularını y\xf6netin",showSearch:!1,actions:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(s.zx,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:[(0,l.jsx)(c.Refresh,{}),"Yenile"]}),(0,l.jsx)(r.default,{href:"/services/new",children:(0,l.jsxs)(s.zx,{children:[(0,l.jsx)(c.Plus,{}),"Yeni Servis"]})})]}),children:[(0,l.jsx)(s.Zb,{className:"mb-6",children:(0,l.jsx)(s.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(c.Search,{}),(0,l.jsx)(s.II,{placeholder:"Tekne adı, m\xfcşteri veya a\xe7ıklama ara...",value:k,onChange:e=>x(e.target.value),className:"pl-10"})]}),(0,l.jsxs)(s.Ph,{value:f,onValueChange:v,children:[(0,l.jsxs)(s.i4,{className:"w-full md:w-48",children:[(0,l.jsx)(c.Filter,{}),(0,l.jsx)(s.ki,{placeholder:"Durum filtrele"})]}),(0,l.jsxs)(s.Bw,{children:[(0,l.jsx)(s.Ql,{value:"all",children:"T\xfcm Durumlar"}),Object.entries(o.FI).map(e=>{let[i,a]=e;return(0,l.jsx)(s.Ql,{value:i,children:a.label},i)})]})]})]})})}),(0,l.jsxs)(s.Zb,{children:[(0,l.jsxs)(s.Ol,{children:[(0,l.jsx)(s.ll,{children:"Servis Randevuları"}),(0,l.jsxs)(s.SZ,{children:[b," randevu bulundu"]})]}),(0,l.jsx)(s.aY,{children:m?(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,i)=>(0,l.jsx)(s.Od,{className:"h-12 w-full"},i))}):0===D.length?(0,l.jsx)(s.ub,{icon:(0,l.jsx)(c.Boat,{}),title:"Servis Bulunamadı",description:k||"all"!==f?"Arama kriterlerinizi değiştirmeyi deneyin.":"Hen\xfcz bir servis randevusu oluşturulmamış.",action:(0,l.jsx)(r.default,{href:"/services/new",children:(0,l.jsxs)(s.zx,{children:[(0,l.jsx)(c.Plus,{}),"İlk Servisi Oluştur"]})})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.iA,{children:[(0,l.jsx)(s.xD,{children:(0,l.jsxs)(s.SC,{children:[(0,l.jsx)(s.ss,{children:"Tarih/Saat"}),(0,l.jsx)(s.ss,{children:"Tekne"}),(0,l.jsx)(s.ss,{children:"M\xfcşteri"}),(0,l.jsx)(s.ss,{children:"İş T\xfcr\xfc"}),(0,l.jsx)(s.ss,{children:"Durum"}),(0,l.jsx)(s.ss,{className:"text-right",children:"İşlemler"})]})}),(0,l.jsx)(s.RM,{children:D.map(e=>(0,l.jsxs)(s.SC,{children:[(0,l.jsx)(s.pj,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(c.Calendar,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:new Date(e.tarih).toLocaleDateString("tr-TR")}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:e.saat})]})]})}),(0,l.jsxs)(s.pj,{children:[(0,l.jsx)("div",{className:"font-medium",children:e.tekneAdi}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:e.yer})]}),(0,l.jsxs)(s.pj,{children:[(0,l.jsx)("div",{className:"font-medium",children:e.irtibatKisi}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:e.telefon})]}),(0,l.jsx)(s.pj,{children:S(e.isTuru)}),(0,l.jsx)(s.pj,{children:C(e.durum)}),(0,l.jsx)(s.pj,{className:"text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)(r.default,{href:"/services/".concat(e.id),children:(0,l.jsx)(s.zx,{variant:"ghost",size:"icon",children:(0,l.jsx)(c.Eye,{})})}),(0,l.jsx)(r.default,{href:"/services/".concat(e.id,"/edit"),children:(0,l.jsx)(s.zx,{variant:"ghost",size:"icon",children:(0,l.jsx)(c.Edit,{})})})]})})]},e.id))})]}),(0,l.jsx)(s.vI,{total:b,page:j,onPageChange:y,rowsPerPage:g,onRowsPerPageChange:e=>{p(e),y(0)}})]})})]})]})}},4939:function(e,i,a){"use strict";a.d(i,{DV:function(){return k},FI:function(){return l},G7:function(){return r},GS:function(){return m},Ib:function(){return s},Rf:function(){return t},YH:function(){return n},YU:function(){return h},pb:function(){return d},qY:function(){return c},sY:function(){return o},un:function(){return u}});let l={RANDEVU_VERILDI:{label:"Randevu Verildi",color:"#0891b2",bgColor:"#ecfeff",icon:"\uD83D\uDCC5"},DEVAM_EDIYOR:{label:"Devam Ediyor",color:"#16a34a",bgColor:"#f0fdf4",icon:"\uD83D\uDD04"},PARCA_BEKLIYOR:{label:"Par\xe7a Bekliyor",color:"#ea580c",bgColor:"#fff7ed",icon:"\uD83D\uDCE6"},MUSTERI_ONAY_BEKLIYOR:{label:"Onay Bekliyor",color:"#ca8a04",bgColor:"#fefce8",icon:"⏳"},RAPOR_BEKLIYOR:{label:"Rapor Bekliyor",color:"#2563eb",bgColor:"#eff6ff",icon:"\uD83D\uDCDD"},KESIF_KONTROL:{label:"Keşif-Kontrol",color:"#9333ea",bgColor:"#faf5ff",icon:"\uD83D\uDD0D"},TAMAMLANDI:{label:"Tamamlandı",color:"#57534e",bgColor:"#f5f5f4",icon:"✅"}},n={YATMARIN:{label:"Yatmarin (Merkez)",color:"#0f766e",icon:"\uD83C\uDFE0"},NETSEL:{label:"Netsel",color:"#1d4ed8",icon:"⚓"},DIS_SERVIS:{label:"Dış Servis",color:"#7c3aed",icon:"\uD83D\uDE97"}};function r(e){let i=e.toUpperCase();return i.includes("YATMARİN")||i.includes("YATMARIN")?"YATMARIN":i.includes("NETSEL")?"NETSEL":"DIS_SERVIS"}let s={PAKET:{label:"Paket İş (Rutin)",carpan:1},ARIZA:{label:"Arıza / Keşif",carpan:1.2},PROJE:{label:"Proje / Refit",carpan:1.5}},t={usta:{label:"Usta",icon:"\uD83D\uDC68‍\uD83D\uDD27"},cirak:{label:"\xc7ırak",icon:"\uD83D\uDC77"},yonetici:{label:"Y\xf6netici",icon:"\uD83D\uDC54"},ofis:{label:"Ofis",icon:"\uD83C\uDFE2"}},o={PAKET:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","stokMalzeme"],ARIZA:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","stokMalzeme"],PROJE:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","taseronBilgisi","stokMalzeme"]},d={EVET:100,KISMEN:60,HAYIR:0,ATLA:null},c=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"musteriIletisimi",label:"M\xfcşteri İletişim Kalitesi",aciklama:"M\xfcşterilerle profesyonel ve saygılı iletişim kurdu mu? Şikayet aldı mı?"},{key:"planlamaKoordinasyon",label:"Planlama ve Koordinasyon",aciklama:"İş planına uydu mu? Değişiklikleri zamanında bildirdi mi?"},{key:"teknikTespit",label:"Teknik Tespit Yeteneği",aciklama:"Arızaları ve ek iş ihtiya\xe7larını doğru tespit edebildi mi?"},{key:"raporDokumantasyon",label:"Rapor ve Dok\xfcmantasyon",aciklama:"İş raporlarını eksiksiz ve zamanında teslim etti mi?"},{key:"genelLiderlik",label:"Genel Liderlik",aciklama:"Ekibini y\xf6netti mi? \xc7ıraklara rehberlik etti mi? Sorumluluk aldı mı?"}],u=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"ekipIciDavranis",label:"Ekip İ\xe7i Davranış",aciklama:"Ekip arkadaşlarıyla uyumlu \xe7alıştı mı? \xc7atışma veya tutum problemi var mıydı?"},{key:"destekKalitesi",label:"Ustalara Destek Kalitesi",aciklama:"Ustalara verilen g\xf6revlerde yardımcı oldu mu? Talimatlara uydu mu?"},{key:"ogrenmeGelisim",label:"\xd6ğrenme İsteği ve Gelişim",aciklama:"Bu ay yeni bir şey \xf6ğrendi mi? Soru sordu mu? İlerleme kaydetti mi?"}],m={1:{label:"\xc7ok Yetersiz",color:"#ef4444"},2:{label:"Geliştirilmeli",color:"#f97316"},3:{label:"Standart",color:"#eab308"},4:{label:"İyi",color:"#22c55e"},5:{label:"M\xfckemmel",color:"#10b981"}},h=["Furkan \xc7akır","İsmail \xc7oban","Senem Kaptan","Diğer"],k=[{id:"1",ad:"Ali Can Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"2",ad:"Alican Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"3",ad:"Batuhan \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"4",ad:"C\xfcneyt Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"5",ad:"Emre Kaya",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"6",ad:"Erhan Turhan",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"7",ad:"Halil İbrahim Duru",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"8",ad:"İbrahim Yayalık",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"9",ad:"İbrahim Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"10",ad:"Mehmet Bacak",rol:"teknisyen",unvan:"cirak",aktif:!1},{id:"11",ad:"Mehmet G\xfcven",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"12",ad:"Melih \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"13",ad:"Sercan Sarız",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"14",ad:"Volkan \xd6zkan",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"15",ad:"Yusuf Kara",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"16",ad:"Ahmet Demir",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"17",ad:"Mustafa Yıldız",rol:"teknisyen",unvan:"cirak",aktif:!0}]}},function(e){e.O(0,[972,750,306,788,171,746,971,117,744],function(){return e(e.s=649)}),_N_E=e.O()}]);