(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{1064:function(e,s,l){Promise.resolve().then(l.bind(l,4025))},4025:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return h}});var r=l(7437),n=l(2265),i=l(7648),a=l(7542),t=l(4689),d=l(6942);let c={Star:()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Trophy:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),(0,r.jsx)("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),(0,r.jsx)("path",{d:"M4 22h16"}),(0,r.jsx)("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),(0,r.jsx)("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),(0,r.jsx)("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Plus:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Refresh:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,r.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,r.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),Eye:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),Edit:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,r.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),TrendingUp:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),(0,r.jsx)("polyline",{points:"17 6 23 6 23 12"})]}),Calendar:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,r.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,r.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,r.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Award:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,r.jsx)("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})]}),Target:()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"6"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"2"})]})},o={TEKNISYEN_PERFORMANS:{label:"Teknisyen Performansı",color:"#10b981"},MUSTERI_MEMNUNIYETI:{label:"M\xfcşteri Memnuniyeti",color:"#3b82f6"},IS_GUVENLIGI:{label:"İş G\xfcvenliği",color:"#f59e0b"},TAKIM_CALISMASI:{label:"Takım \xc7alışması",color:"#8b5cf6"},YENILIK:{label:"Yenilik & Gelişim",color:"#ec4899"}},x={BRONZ:{label:"Bronz",minPoints:0,color:"#d97706"},GUMUS:{label:"G\xfcm\xfcş",minPoints:100,color:"#94a3b8"},ALTIN:{label:"Altın",minPoints:250,color:"#fbbf24"},PLATIN:{label:"Platin",minPoints:500,color:"#06b6d4"},ELMAS:{label:"Elmas",minPoints:1e3,color:"#8b5cf6"}};function h(){let{isAuthenticated:e,isLoading:s}=(0,d.a)(),[l,h]=(0,n.useState)([]),[j,m]=(0,n.useState)([]),[u,g]=(0,n.useState)(!0),[p,v]=(0,n.useState)("rankings");(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/scoring/rankings");if(e.ok){let s=await e.json();m(s.data||[])}let s=await fetch("/api/scoring/recent");if(s.ok){let e=await s.json();h(e.data||[])}}catch(e){console.error("Puanlama verileri getirilemedi:",e)}finally{g(!1)}};s||e()},[s]);let b=e=>e>=1e3?{...x.ELMAS,level:5}:e>=500?{...x.PLATIN,level:4}:e>=250?{...x.ALTIN,level:3}:e>=100?{...x.GUMUS,level:2}:{...x.BRONZ,level:1},f=e=>0===e?{icon:"\uD83E\uDD47",bg:"rgba(251, 191, 36, 0.2)",border:"#fbbf24"}:1===e?{icon:"\uD83E\uDD48",bg:"rgba(148, 163, 184, 0.2)",border:"#94a3b8"}:2===e?{icon:"\uD83E\uDD49",bg:"rgba(217, 119, 6, 0.2)",border:"#d97706"}:{icon:"#".concat(e+1),bg:"transparent",border:"transparent"},N=e=>{let s=o[e];return s?(0,r.jsx)(a.Ct,{style:{backgroundColor:"".concat(s.color,"20"),color:s.color,borderColor:s.color},variant:"outline",children:s.label}):(0,r.jsx)(a.Ct,{variant:"outline",children:e})};return s?(0,r.jsx)(t.Z,{children:(0,r.jsx)(a.Zb,{children:(0,r.jsx)(a.aY,{className:"pt-6",children:(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)(a.Od,{className:"h-12 w-full"},s))})})})}):(0,r.jsxs)(t.Z,{title:"Marlin Yıldızı",subtitle:"Performans değerlendirme ve puanlama sistemi",showSearch:!1,actions:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(a.zx,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:[(0,r.jsx)(c.Refresh,{}),"Yenile"]}),(0,r.jsx)(i.default,{href:"/scoring/new",children:(0,r.jsxs)(a.zx,{children:[(0,r.jsx)(c.Plus,{}),"Puan Ekle"]})})]}),children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(a.Zb,{children:(0,r.jsx)(a.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toplam Puan"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:j.reduce((e,s)=>e+s.toplamPuan,0)})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-yellow-500/10",children:(0,r.jsx)(c.Star,{})})]})})}),(0,r.jsx)(a.Zb,{children:(0,r.jsx)(a.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aktif Teknisyen"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:j.length})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-blue-500/10",children:(0,r.jsx)(c.Award,{})})]})})}),(0,r.jsx)(a.Zb,{children:(0,r.jsx)(a.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Bu Ay Puan"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:"+1,250"})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-green-500/10",children:(0,r.jsx)(c.TrendingUp,{})})]})})}),(0,r.jsx)(a.Zb,{children:(0,r.jsx)(a.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ortalama"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:j.length>0?Math.round(j.reduce((e,s)=>e+s.ortalamaPuan,0)/j.length):0})]}),(0,r.jsx)("div",{className:"p-3 rounded-full bg-purple-500/10",children:(0,r.jsx)(c.Target,{})})]})})})]}),(0,r.jsxs)(a.mQ,{value:p,onValueChange:v,children:[(0,r.jsxs)(a.dr,{className:"mb-6",children:[(0,r.jsxs)(a.SP,{value:"rankings",children:[(0,r.jsx)(c.Trophy,{}),"Sıralama"]}),(0,r.jsxs)(a.SP,{value:"history",children:[(0,r.jsx)(c.Calendar,{}),"Ge\xe7miş"]}),(0,r.jsxs)(a.SP,{value:"about",children:[(0,r.jsx)(c.Award,{}),"Nasıl \xc7alışır?"]})]}),(0,r.jsx)(a.nU,{value:"rankings",children:(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Teknisyen Sıralaması"}),(0,r.jsx)(a.SZ,{children:"Takım performansına g\xf6re sıralama"})]}),(0,r.jsx)(a.aY,{children:u?(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)(a.Od,{className:"h-16 w-full"},s))}):0===j.length?(0,r.jsx)(a.ub,{icon:(0,r.jsx)(c.Star,{}),title:"Hen\xfcz Puan Yok",description:"Puan eklediğinizde sıralama burada g\xf6r\xfcnecek.",action:(0,r.jsx)(i.default,{href:"/scoring/new",children:(0,r.jsxs)(a.zx,{children:[(0,r.jsx)(c.Plus,{}),"İlk Puanı Ekle"]})})}):(0,r.jsxs)(a.iA,{children:[(0,r.jsx)(a.xD,{children:(0,r.jsxs)(a.SC,{children:[(0,r.jsx)(a.ss,{className:"w-16",children:"Sıra"}),(0,r.jsx)(a.ss,{children:"Teknisyen"}),(0,r.jsx)(a.ss,{children:"Klasman"}),(0,r.jsx)(a.ss,{className:"text-right",children:"Toplam Puan"}),(0,r.jsx)(a.ss,{className:"text-right",children:"Servis Sayısı"}),(0,r.jsx)(a.ss,{className:"text-right",children:"Ortalaması"})]})}),(0,r.jsx)(a.RM,{children:j.map((e,s)=>{let l=b(e.toplamPuan),n=f(s);return(0,r.jsxs)(a.SC,{children:[(0,r.jsx)(a.pj,{children:(0,r.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full text-lg",style:{backgroundColor:n.bg,border:"2px solid ".concat(n.border)},children:n.icon})}),(0,r.jsx)(a.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(a.qE,{className:"h-10 w-10",children:(0,r.jsx)(a.Q5,{className:"bg-primary/10 text-primary font-semibold",children:e.personelAd.charAt(0)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.personelAd}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.unvan})]})]})}),(0,r.jsx)(a.pj,{children:(0,r.jsx)(a.Ct,{style:{backgroundColor:"".concat(l.color,"20"),color:l.color,borderColor:l.color},variant:"outline",children:l.label})}),(0,r.jsx)(a.pj,{className:"text-right",children:(0,r.jsx)("span",{className:"font-bold text-lg",children:e.toplamPuan})}),(0,r.jsxs)(a.pj,{className:"text-right",children:[e.toplamServis," servis"]}),(0,r.jsx)(a.pj,{className:"text-right",children:(0,r.jsx)("span",{className:"text-muted-foreground",children:e.ortalamaPuan.toFixed(1)})})]},e.personelId)})})]})})]})}),(0,r.jsx)(a.nU,{value:"history",children:(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Son Puanlama Ge\xe7mişi"}),(0,r.jsx)(a.SZ,{children:"En son eklenen puanlamalar"})]}),(0,r.jsx)(a.aY,{children:u?(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)(a.Od,{className:"h-16 w-full"},s))}):0===l.length?(0,r.jsx)(a.ub,{icon:(0,r.jsx)(c.Calendar,{}),title:"Ge\xe7miş Bulunamadı",description:"Hen\xfcz puanlama kaydı eklenmemiş."}):(0,r.jsxs)(a.iA,{children:[(0,r.jsx)(a.xD,{children:(0,r.jsxs)(a.SC,{children:[(0,r.jsx)(a.ss,{children:"Tarih"}),(0,r.jsx)(a.ss,{children:"Teknisyen"}),(0,r.jsx)(a.ss,{children:"Kategori"}),(0,r.jsx)(a.ss,{children:"Puan"}),(0,r.jsx)(a.ss,{children:"A\xe7ıklama"}),(0,r.jsx)(a.ss,{className:"text-right",children:"İşlemler"})]})}),(0,r.jsx)(a.RM,{children:l.map(e=>(0,r.jsxs)(a.SC,{children:[(0,r.jsx)(a.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.Calendar,{}),(0,r.jsx)("span",{children:new Date(e.tarih).toLocaleDateString("tr-TR")})]})}),(0,r.jsx)(a.pj,{children:(0,r.jsx)("span",{className:"font-medium",children:e.personelAd})}),(0,r.jsx)(a.pj,{children:N(e.kategori)}),(0,r.jsx)(a.pj,{children:(0,r.jsxs)(a.Ct,{className:"bg-green-500/20 text-green-500 border-green-500",children:["+",e.puan," / ",e.maxPuan]})}),(0,r.jsx)(a.pj,{children:(0,r.jsx)("span",{className:"text-muted-foreground truncate max-w-xs block",children:e.aciklama})}),(0,r.jsx)(a.pj,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(a.zx,{variant:"ghost",size:"icon",children:(0,r.jsx)(c.Eye,{})}),(0,r.jsx)(a.zx,{variant:"ghost",size:"icon",children:(0,r.jsx)(c.Edit,{})})]})})]},e.id))})]})})]})}),(0,r.jsx)(a.nU,{value:"about",children:(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Marlin Yıldızı Nasıl \xc7alışır?"}),(0,r.jsx)(a.SZ,{children:"Performans puanlama sistemi hakkında bilgi"})]}),(0,r.jsxs)(a.aY,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Klasman Seviyeleri"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(x).reverse().map(e=>{let[s,l]=e;return(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-card border border-border",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold",style:{backgroundColor:"".concat(l.color,"20"),color:l.color},children:s.charAt(0)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:l.label}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Min. ",l.minPoints," puan"]})]})]},s)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Puan Kategorileri"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(o).map(e=>{let[s,l]=e;return(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-card border border-border",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"".concat(l.color,"20")},children:(0,r.jsx)(c.Star,{})}),(0,r.jsx)("div",{className:"font-medium",children:l.label})]},s)})})]})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Puan Nasıl Kazanılır?"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"✓ Tamamlanan Servis"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Her başarılı servis başına 10-50 puan"})]}),(0,r.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"⭐ M\xfcşteri Memnuniyeti"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Olumlu geri bildirim başına 15 puan"})]}),(0,r.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"\uD83C\uDFC6 Aylık \xd6d\xfcller"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"En y\xfcksek puan alan 3 teknisyen \xf6d\xfcllendirilir"})]})]})]})]})]})})]})]})}}},function(e){e.O(0,[972,750,306,788,171,746,971,117,744],function(){return e(e.s=1064)}),_N_E=e.O()}]);