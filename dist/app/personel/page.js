(()=>{var e={};e.id=4187,e.ids=[4187],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92712:(e,a,i)=>{"use strict";i.r(a),i.d(a,{GlobalError:()=>t.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>k,tree:()=>c}),i(80881),i(24268),i(35866);var r=i(23191),l=i(88716),n=i(37922),t=i.n(n),s=i(95231),o={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);i.d(a,o);let c=["",{children:["personel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,80881)),"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\personel\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,24268)),"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\personel\\page.tsx"],u="/personel/page",m={require:i,loadChunk:()=>Promise.resolve()},k=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/personel/page",pathname:"/personel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},69182:(e,a,i)=>{Promise.resolve().then(i.bind(i,3280))},3280:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>o});var r=i(10326),l=i(17577),n=i(90434),t=i(21923),s=i(6824);function o(){let[e,a]=(0,l.useState)([]),[i,n]=(0,l.useState)("tumu"),[t,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!0),[m,k]=(0,l.useState)(!1),[p,y]=(0,l.useState)({ad:"",unvan:"teknisyen"}),v=async()=>{try{let e=await (0,s.$c)();a(e)}catch(e){console.error("Failed to load personnel:",e)}finally{u(!1)}},f=async e=>{e.preventDefault();try{(await fetch("/api/personnel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ad:p.ad,unvan:p.unvan,rol:"teknisyen",aktif:!0})})).ok&&(k(!1),y({ad:"",unvan:"teknisyen"}),v())}catch(e){console.error("Failed to add personnel:",e)}},h=e.filter(e=>(!!t||!!e.aktif)&&("tumu"===i||e.rol===i)),g=h.filter(e=>"teknisyen"===e.rol),x=h.filter(e=>"yetkili"===e.rol);return d?r.jsx("div",{style:{textAlign:"center",padding:"var(--space-2xl)"},children:"⏳ Y\xfckleniyor..."}):(0,r.jsxs)("div",{className:"animate-fade-in",children:[(0,r.jsxs)("header",{className:"page-header",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"page-title",children:"\uD83D\uDC65 Personel Y\xf6netimi"}),(0,r.jsxs)("p",{style:{color:"var(--color-text-muted)"},children:[e.filter(e=>e.aktif).length," aktif personel"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[r.jsx("button",{onClick:()=>n("tumu"),className:"tumu"===i?"btn btn-primary":"btn btn-secondary",children:"T\xfcm\xfc"}),r.jsx("button",{onClick:()=>n("teknisyen"),className:"teknisyen"===i?"btn btn-primary":"btn btn-secondary",children:"\uD83D\uDC77 Teknisyenler"}),r.jsx("button",{onClick:()=>k(!m),className:"btn btn-primary",children:m?"✕ İptal":"➕ Yeni Personel"})]})]}),m&&(0,r.jsxs)("div",{className:"card",style:{marginBottom:"var(--space-lg)"},children:[r.jsx("h3",{className:"card-title",children:"➕ Yeni Personel Ekle"}),r.jsx("form",{onSubmit:f,children:(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(3, 1fr)",gap:"var(--space-md)",alignItems:"end"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"var(--space-xs)",fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Ad Soyad"}),r.jsx("input",{type:"text",className:"form-input",value:p.ad,onChange:e=>y({...p,ad:e.target.value}),placeholder:"\xd6rn: Mehmet Yılmaz",required:!0,style:{width:"100%"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"var(--space-xs)",fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Unvan"}),(0,r.jsxs)("select",{className:"form-select",value:p.unvan,onChange:e=>y({...p,unvan:e.target.value}),style:{width:"100%"},children:[r.jsx("option",{value:"ustabasi",children:"Ustabaşı"}),r.jsx("option",{value:"teknisyen",children:"Teknisyen"}),r.jsx("option",{value:"cirak",children:"\xc7ırak"})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",className:"btn btn-success",style:{width:"100%"},children:"✅ Ekle"})})]})})]}),("tumu"===i||"teknisyen"===i)&&g.length>0&&(0,r.jsxs)("section",{style:{marginBottom:"var(--space-xl)"},children:[(0,r.jsxs)("h2",{style:{marginBottom:"var(--space-md)",color:"var(--color-text-muted)"},children:["\uD83D\uDC77 Teknisyenler (",g.length,")"]}),r.jsx("div",{className:"grid grid-cols-3",style:{gap:"var(--space-md)"},children:g.map(e=>r.jsx(c,{personel:e},e.id))})]}),("tumu"===i||"yetkili"===i)&&x.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsxs)("h2",{style:{marginBottom:"var(--space-md)",color:"var(--color-text-muted)"},children:["\uD83D\uDC54 Yetkililer (",x.length,")"]}),r.jsx("div",{className:"grid grid-cols-3",style:{gap:"var(--space-md)"},children:x.map(e=>r.jsx(c,{personel:e,isYetkili:!0},e.id))})]}),0===g.length&&0===x.length&&(0,r.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"var(--space-2xl)"},children:[r.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-md)"},children:"\uD83D\uDC65"}),r.jsx("h3",{children:"Hen\xfcz personel eklenmemiş"}),r.jsx("p",{style:{color:"var(--color-text-muted)"},children:'Yukarıdaki "Yeni Personel" butonunu kullanarak personel ekleyebilirsiniz.'})]})]})}function c({personel:e,isYetkili:a=!1}){let i=t.Rf[e.unvan]||{icon:"\uD83D\uDC64",label:e.unvan},l=(e.altinRozet||0)+(e.gumusRozet||0)+(e.bronzRozet||0);return(0,r.jsxs)(n.default,{href:`/personel/${e.id}`,className:"card",style:{display:"block",textDecoration:"none",opacity:e.aktif?1:.5,borderLeft:`4px solid ${a?"var(--color-accent-gold)":"var(--color-primary)"}`},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-md)",marginBottom:"var(--space-md)"},children:[r.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--radius-full)",background:a?"var(--color-accent-gold)":"var(--color-primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:i.icon}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:600,color:"var(--color-text)"},children:e.ad}),(0,r.jsxs)("div",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)"},children:[i.label,!e.aktif&&" • Pasif"]})]})]}),!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--space-sm)",marginBottom:"var(--space-md)"},children:[(0,r.jsxs)("div",{style:{padding:"var(--space-sm)",background:"var(--color-bg)",borderRadius:"var(--radius-sm)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--color-primary)"},children:e.aylikServisSayisi||0}),r.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)"},children:"servis/ay"})]}),(0,r.jsxs)("div",{style:{padding:"var(--space-sm)",background:"var(--color-bg)",borderRadius:"var(--radius-sm)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--color-success)"},children:e.aylikOrtalamaPuan||0}),r.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)"},children:"puan"})]})]}),l>0&&(0,r.jsxs)("div",{style:{display:"flex",gap:"var(--space-xs)",justifyContent:"center"},children:[(e.altinRozet||0)>0&&(0,r.jsxs)("span",{title:"Altın Rozet",children:["\uD83E\uDD47 \xd7",e.altinRozet]}),(e.gumusRozet||0)>0&&(0,r.jsxs)("span",{title:"G\xfcm\xfcş Rozet",children:["\uD83E\uDD48 \xd7",e.gumusRozet]}),(e.bronzRozet||0)>0&&(0,r.jsxs)("span",{title:"Bronz Rozet",children:["\uD83E\uDD49 \xd7",e.bronzRozet]})]})]})]})}},6824:(e,a,i)=>{"use strict";async function r(e){let a=await fetch(e);if(!a.ok)throw Error(`Failed to fetch ${e}: ${a.statusText}`);return a.json()}async function l(){return r("/api/services")}async function n(e,a){return(await fetch(`/api/services/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok}async function t(){return r("/api/personnel")}i.d(a,{$c:()=>t,Pg:()=>n,Qz:()=>l})},21923:(e,a,i)=>{"use strict";i.d(a,{DV:()=>p,FI:()=>r,G7:()=>n,GS:()=>m,Ib:()=>t,Rf:()=>s,YH:()=>l,YU:()=>k,pb:()=>c,qY:()=>d,sY:()=>o,un:()=>u});let r={RANDEVU_VERILDI:{label:"Randevu Verildi",color:"#0891b2",bgColor:"#ecfeff",icon:"\uD83D\uDCC5"},DEVAM_EDIYOR:{label:"Devam Ediyor",color:"#16a34a",bgColor:"#f0fdf4",icon:"\uD83D\uDD04"},PARCA_BEKLIYOR:{label:"Par\xe7a Bekliyor",color:"#ea580c",bgColor:"#fff7ed",icon:"\uD83D\uDCE6"},MUSTERI_ONAY_BEKLIYOR:{label:"Onay Bekliyor",color:"#ca8a04",bgColor:"#fefce8",icon:"⏳"},RAPOR_BEKLIYOR:{label:"Rapor Bekliyor",color:"#2563eb",bgColor:"#eff6ff",icon:"\uD83D\uDCDD"},KESIF_KONTROL:{label:"Keşif-Kontrol",color:"#9333ea",bgColor:"#faf5ff",icon:"\uD83D\uDD0D"},TAMAMLANDI:{label:"Tamamlandı",color:"#57534e",bgColor:"#f5f5f4",icon:"✅"}},l={YATMARIN:{label:"Yatmarin (Merkez)",color:"#0f766e",icon:"\uD83C\uDFE0"},NETSEL:{label:"Netsel",color:"#1d4ed8",icon:"⚓"},DIS_SERVIS:{label:"Dış Servis",color:"#7c3aed",icon:"\uD83D\uDE97"}};function n(e){let a=e.toUpperCase();return a.includes("YATMARİN")||a.includes("YATMARIN")?"YATMARIN":a.includes("NETSEL")?"NETSEL":"DIS_SERVIS"}let t={PAKET:{label:"Paket İş (Rutin)",carpan:1},ARIZA:{label:"Arıza / Keşif",carpan:1.2},PROJE:{label:"Proje / Refit",carpan:1.5}},s={usta:{label:"Usta",icon:"\uD83D\uDC68‍\uD83D\uDD27"},cirak:{label:"\xc7ırak",icon:"\uD83D\uDC77"},yonetici:{label:"Y\xf6netici",icon:"\uD83D\uDC54"},ofis:{label:"Ofis",icon:"\uD83C\uDFE2"}},o={PAKET:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","stokMalzeme"],ARIZA:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","stokMalzeme"],PROJE:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","taseronBilgisi","stokMalzeme"]},c={EVET:100,KISMEN:60,HAYIR:0,ATLA:null},d=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"musteriIletisimi",label:"M\xfcşteri İletişim Kalitesi",aciklama:"M\xfcşterilerle profesyonel ve saygılı iletişim kurdu mu? Şikayet aldı mı?"},{key:"planlamaKoordinasyon",label:"Planlama ve Koordinasyon",aciklama:"İş planına uydu mu? Değişiklikleri zamanında bildirdi mi?"},{key:"teknikTespit",label:"Teknik Tespit Yeteneği",aciklama:"Arızaları ve ek iş ihtiya\xe7larını doğru tespit edebildi mi?"},{key:"raporDokumantasyon",label:"Rapor ve Dok\xfcmantasyon",aciklama:"İş raporlarını eksiksiz ve zamanında teslim etti mi?"},{key:"genelLiderlik",label:"Genel Liderlik",aciklama:"Ekibini y\xf6netti mi? \xc7ıraklara rehberlik etti mi? Sorumluluk aldı mı?"}],u=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"ekipIciDavranis",label:"Ekip İ\xe7i Davranış",aciklama:"Ekip arkadaşlarıyla uyumlu \xe7alıştı mı? \xc7atışma veya tutum problemi var mıydı?"},{key:"destekKalitesi",label:"Ustalara Destek Kalitesi",aciklama:"Ustalara verilen g\xf6revlerde yardımcı oldu mu? Talimatlara uydu mu?"},{key:"ogrenmeGelisim",label:"\xd6ğrenme İsteği ve Gelişim",aciklama:"Bu ay yeni bir şey \xf6ğrendi mi? Soru sordu mu? İlerleme kaydetti mi?"}],m={1:{label:"\xc7ok Yetersiz",color:"#ef4444"},2:{label:"Geliştirilmeli",color:"#f97316"},3:{label:"Standart",color:"#eab308"},4:{label:"İyi",color:"#22c55e"},5:{label:"M\xfckemmel",color:"#10b981"}},k=["Furkan \xc7akır","İsmail \xc7oban","Senem Kaptan","Diğer"],p=[{id:"1",ad:"Ali Can Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"2",ad:"Alican Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"3",ad:"Batuhan \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"4",ad:"C\xfcneyt Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"5",ad:"Emre Kaya",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"6",ad:"Erhan Turhan",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"7",ad:"Halil İbrahim Duru",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"8",ad:"İbrahim Yayalık",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"9",ad:"İbrahim Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"10",ad:"Mehmet Bacak",rol:"teknisyen",unvan:"cirak",aktif:!1},{id:"11",ad:"Mehmet G\xfcven",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"12",ad:"Melih \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"13",ad:"Sercan Sarız",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"14",ad:"Volkan \xd6zkan",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"15",ad:"Yusuf Kara",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"16",ad:"Ahmet Demir",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"17",ad:"Mustafa Yıldız",rol:"teknisyen",unvan:"cirak",aktif:!0}]},80881:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>r});let r=(0,i(68570).createProxy)(String.raw`C:\Users\furkan.cakir\Desktop\ServicePro\ServicePro_Demo\app\personel\page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var i=e=>a(a.s=e),r=a.X(0,[9276,5345,9444],()=>i(92712));module.exports=r})();