(()=>{var e={};e.id=2551,e.ids=[2551],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49329:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(36544),a(24268),a(35866);var t=a(23191),s=a(88716),i=a(37922),n=a.n(i),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(r,o);let d=["",{children:["planlama",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,36544)),"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\planlama\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,24268)),"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\planlama\\page.tsx"],u="/planlama/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/planlama/page",pathname:"/planlama",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37153:(e,r,a)=>{Promise.resolve().then(a.bind(a,17553))},17553:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>g});var t=a(10326),s=a(17577),i=a(90434),n=a(50242),l=a(21923),o=a(30003);let d=[{key:"uniteBilgileri",label:"\xdcnite Bilgileri (Seri No, Model vb.)"},{key:"fotograf",label:"Fotoğraf (\xd6ncesi/Sonrası)"},{key:"tekneKonum",label:"Tekne/Konum bilgisi"},{key:"sarfMalzeme",label:"Sarf Malzeme"},{key:"adamSaat",label:"Adam/Saat"},{key:"taseronBilgisi",label:"Taşeron bilgisi"},{key:"stokMalzeme",label:"Stok Malzeme"}],c={uniteBilgileri:!1,fotograf:!1,tekneKonum:!1,sarfMalzeme:!1,adamSaat:!1,taseronBilgisi:!1,stokMalzeme:!1,aciklama:"",raporlayanPersonel:"",raporTarihi:new Date().toISOString().split("T")[0]};function u({service:e,isOpen:r,onClose:a,onComplete:i}){let[n,u]=(0,s.useState)(c),[p,x]=(0,s.useState)([]);if(!e||!r)return null;let f=l.sY[e.isTuru],h=(0,o.NJ)(n,e.isTuru),v=p.filter(e=>e.secili),b=v.filter(e=>"sorumlu"===e.rol),g=v.filter(e=>"destek"===e.rol),y=e=>{x(r=>r.map(r=>r.personnelId===e?{...r,secili:!r.secili}:r))},k=(e,r)=>{x(a=>a.map(a=>a.personnelId===e?{...a,rol:r}:a))},j=e=>{x(r=>r.map(r=>r.personnelId===e?{...r,bonus:!r.bonus}:r))};return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{onClick:a,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:200}}),(0,t.jsxs)("div",{style:{position:"fixed",right:0,top:0,bottom:0,width:"520px",background:"var(--color-surface)",boxShadow:"var(--shadow-lg)",zIndex:201,display:"flex",flexDirection:"column",animation:"slideIn 0.3s ease"},children:[(0,t.jsxs)("div",{style:{padding:"var(--space-lg)",borderBottom:"1px solid var(--color-border)",background:"linear-gradient(135deg, var(--color-success) 0%, #059669 100%)",color:"white"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("h2",{style:{margin:0,fontSize:"1.25rem"},children:"✓ Servis Tamamlama"}),t.jsx("button",{onClick:a,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"var(--radius-full)",width:"32px",height:"32px",color:"white",cursor:"pointer",fontSize:"1.2rem"},children:"\xd7"})]}),(0,t.jsxs)("div",{style:{marginTop:"var(--space-sm)",opacity:.9},children:[e.tekneAdi," • ",e.servisAciklamasi.substring(0,40),"..."]})]}),(0,t.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"var(--space-lg)"},children:[(0,t.jsxs)("div",{style:{display:"inline-block",padding:"var(--space-xs) var(--space-sm)",background:"var(--color-accent-gold)",color:"black",borderRadius:"var(--radius-sm)",fontSize:"0.8rem",fontWeight:600,marginBottom:"var(--space-lg)"},children:[l.Ib[e.isTuru].label," (\xd7",l.Ib[e.isTuru].carpan,")"]}),(0,t.jsxs)("div",{style:{marginBottom:"var(--space-xl)"},children:[t.jsx("h3",{style:{marginBottom:"var(--space-md)",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:"\uD83D\uDC65 SERVİSTE \xc7ALIŞAN PERSONEL"}),t.jsx("div",{style:{padding:"var(--space-sm)",background:"var(--color-info)",borderRadius:"var(--radius-sm)",fontSize:"0.75rem",color:"white",marginBottom:"var(--space-md)"},children:"\uD83D\uDCA1 Personeli se\xe7in ve rol\xfcn\xfc belirleyin. Sorumlu = rapor kalitesine g\xf6re, Destek = sabit baz puan."}),t.jsx("div",{style:{maxHeight:"250px",overflow:"auto"},children:p.map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)",padding:"var(--space-sm)",background:e.secili?"var(--color-surface-elevated)":"transparent",borderRadius:"var(--radius-md)",marginBottom:"var(--space-xs)",border:e.secili?"1px solid var(--color-border)":"1px solid transparent"},children:[t.jsx("button",{onClick:()=>y(e.personnelId),style:{width:"22px",height:"22px",borderRadius:"4px",border:e.secili?"none":"2px solid var(--color-border)",background:e.secili?"var(--color-primary)":"transparent",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",flexShrink:0},children:e.secili&&"✓"}),(0,t.jsxs)("div",{style:{flex:1},children:[t.jsx("span",{style:{fontWeight:500},children:e.personnelAd}),(0,t.jsxs)("span",{style:{marginLeft:"var(--space-xs)",fontSize:"0.7rem",color:"var(--color-text-muted)"},children:[l.Rf[e.unvan].icon," ",l.Rf[e.unvan].label]})]}),e.secili&&(0,t.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>k(e.personnelId,"sorumlu"),style:{padding:"2px 8px",fontSize:"0.7rem",fontWeight:600,border:"sorumlu"===e.rol?"2px solid var(--color-primary)":"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"sorumlu"===e.rol?"var(--color-primary)":"transparent",color:"sorumlu"===e.rol?"white":"var(--color-text-muted)",cursor:"pointer"},children:"Sorumlu"}),t.jsx("button",{onClick:()=>k(e.personnelId,"destek"),style:{padding:"2px 8px",fontSize:"0.7rem",fontWeight:600,border:"destek"===e.rol?"2px solid var(--color-success)":"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"destek"===e.rol?"var(--color-success)":"transparent",color:"destek"===e.rol?"white":"var(--color-text-muted)",cursor:"pointer"},children:"Destek"})]})]},e.personnelId))})]}),t.jsx("h3",{style:{marginBottom:"var(--space-md)",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:"\uD83D\uDCCB RAPOR KONTROL LİSTESİ"}),d.map(e=>{let r=e.key,a=f.includes(e.key),s=!0===n[r];return(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)",padding:"var(--space-sm)",marginBottom:"var(--space-xs)",background:a?"var(--color-surface-elevated)":"transparent",borderRadius:"var(--radius-sm)",opacity:a?1:.4},children:[t.jsx("button",{onClick:()=>a&&u({...n,[r]:!s}),disabled:!a,style:{width:"22px",height:"22px",borderRadius:"4px",border:s?"none":"2px solid var(--color-border)",background:s?"var(--color-success)":"transparent",color:"white",cursor:a?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",flexShrink:0},children:s&&"✓"}),t.jsx("span",{style:{flex:1,fontSize:"0.85rem"},children:e.label}),a&&t.jsx("span",{style:{fontSize:"0.65rem",color:"var(--color-error)",fontWeight:600},children:"ZORUNLU"})]},e.key)}),t.jsx("div",{style:{marginTop:"var(--space-lg)",padding:"var(--space-md)",background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%)",borderRadius:"var(--radius-md)",color:"white"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{opacity:.9},children:"Rapor Başarı Oranı"}),(0,t.jsxs)("span",{style:{fontSize:"1.5rem",fontWeight:700},children:["%",Math.round(100*h)]})]})}),v.length>0&&(0,t.jsxs)("div",{style:{marginTop:"var(--space-lg)"},children:[t.jsx("h3",{style:{marginBottom:"var(--space-sm)",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:"\uD83D\uDCB0 PUAN \xd6NİZLEME"}),b.length>0&&(0,t.jsxs)("div",{style:{marginBottom:"var(--space-md)"},children:[t.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-primary-light)",marginBottom:"var(--space-xs)",fontWeight:600},children:"SORUMLU (Rapor Kalitesine G\xf6re)"}),b.map(r=>{let a=(0,o.xm)(h,e.isTuru,"sorumlu",r.bonus);return t.jsx(m,{personel:r,puan:a,formula:`(40 + 60\xd7${Math.round(100*h)}%) \xd7 ${a.zorlukCarpani}${r.bonus?" +15":""}`,isSorumlu:!0,onToggleBonus:()=>j(r.personnelId)},r.personnelId)})]}),g.length>0&&(0,t.jsxs)("div",{children:[t.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-success)",marginBottom:"var(--space-xs)",fontWeight:600},children:"DESTEK (Sabit 80 Baz Puan)"}),g.map(r=>{let a=(0,o.xm)(1,e.isTuru,"destek",r.bonus);return t.jsx(m,{personel:r,puan:a,formula:`80 \xd7 ${a.zorlukCarpani}${r.bonus?" +15":""}`,isSorumlu:!1,onToggleBonus:()=>j(r.personnelId)},r.personnelId)})]})]})]}),(0,t.jsxs)("div",{style:{padding:"var(--space-lg)",borderTop:"1px solid var(--color-border)",display:"flex",gap:"var(--space-sm)"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:a,style:{flex:1},children:"İptal"}),(0,t.jsxs)("button",{className:"btn btn-success",onClick:()=>{i(n,v.map(e=>({personnelId:e.personnelId,personnelAd:e.personnelAd,rol:e.rol,unvan:e.unvan,bonus:e.bonus}))),a()},style:{flex:2},disabled:0===v.length,children:["✓ Servisi Tamamla (",v.length," personel)"]})]})]})]})}function m({personel:e,puan:r,formula:a,isSorumlu:s,onToggleBonus:i}){return(0,t.jsxs)("div",{style:{padding:"var(--space-sm)",background:"var(--color-surface-elevated)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-xs)",display:"flex",alignItems:"center",justifyContent:"space-between",borderLeft:`3px solid ${s?"var(--color-primary)":"var(--color-success)"}`},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{fontWeight:500,fontSize:"0.85rem"},children:[l.Rf[e.unvan].icon," ",e.personnelAd]}),t.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)"},children:a})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},children:[t.jsx("button",{onClick:i,style:{padding:"2px 6px",fontSize:"0.65rem",border:e.bonus?"1px solid var(--color-accent-gold)":"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:e.bonus?"var(--color-accent-gold)":"transparent",color:e.bonus?"black":"var(--color-text-muted)",cursor:"pointer"},children:"⭐ +15"}),t.jsx("span",{style:{fontSize:"1.25rem",fontWeight:700,color:s?"var(--color-primary-light)":"var(--color-success)"},children:r.finalPuan})]})]})}var p=a(77626),x=a.n(p);function f({serviceId:e,tekneAdi:r,initialParcalar:a=[],initialNot:i="",isOpen:n,onClose:l,onSave:o}){let[d,c]=(0,s.useState)(a.length>0?a:[{parcaAdi:"",miktar:1}]),[u,m]=(0,s.useState)(i);if(!n)return null;let p=e=>{c(d.filter((r,a)=>a!==e))},f=(e,r,a)=>{let t=[...d];t[e]={...t[e],[r]:a},c(t)};return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{onClick:l,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:200},className:"jsx-ec83d9b729de14f4"}),(0,t.jsxs)("div",{style:{position:"fixed",right:0,top:0,bottom:0,width:"450px",background:"var(--color-surface)",boxShadow:"var(--shadow-lg)",zIndex:201,display:"flex",flexDirection:"column",animation:"slideIn 0.3s ease"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("div",{style:{padding:"var(--space-lg)",borderBottom:"1px solid var(--color-border)",background:"linear-gradient(135deg, #ea580c 0%, #c2410c 100%)",color:"white"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},className:"jsx-ec83d9b729de14f4",children:[t.jsx("h2",{style:{margin:0,fontSize:"1.25rem"},className:"jsx-ec83d9b729de14f4",children:"\uD83D\uDCE6 Beklenen Par\xe7alar"}),t.jsx("button",{onClick:l,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"var(--radius-full)",width:"32px",height:"32px",color:"white",cursor:"pointer",fontSize:"1.2rem"},className:"jsx-ec83d9b729de14f4",children:"\xd7"})]}),t.jsx("div",{style:{marginTop:"var(--space-sm)",opacity:.9},className:"jsx-ec83d9b729de14f4",children:r})]}),(0,t.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"var(--space-lg)"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("div",{style:{marginBottom:"var(--space-lg)"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-md)"},className:"jsx-ec83d9b729de14f4",children:[t.jsx("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-text-muted)"},className:"jsx-ec83d9b729de14f4",children:"PAR\xc7A LİSTESİ"}),t.jsx("button",{onClick:()=>{c([...d,{parcaAdi:"",miktar:1}])},style:{background:"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-sm)",padding:"4px 8px",fontSize:"0.8rem",cursor:"pointer"},className:"jsx-ec83d9b729de14f4",children:"+ Par\xe7a Ekle"})]}),d.map((e,r)=>(0,t.jsxs)("div",{style:{background:"var(--color-bg)",borderRadius:"var(--radius-md)",padding:"var(--space-md)",marginBottom:"var(--space-sm)"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--space-sm)"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("span",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)"},className:"jsx-ec83d9b729de14f4",children:["Par\xe7a #",r+1]}),d.length>1&&t.jsx("button",{onClick:()=>p(r),style:{background:"none",border:"none",color:"var(--color-error)",cursor:"pointer",fontSize:"0.8rem"},className:"jsx-ec83d9b729de14f4",children:"Kaldır"})]}),t.jsx("input",{type:"text",placeholder:"Par\xe7a adı...",value:e.parcaAdi,onChange:e=>f(r,"parcaAdi",e.target.value),style:{width:"100%",padding:"var(--space-sm)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",marginBottom:"var(--space-sm)"},className:"jsx-ec83d9b729de14f4"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-sm)"},className:"jsx-ec83d9b729de14f4",children:[(0,t.jsxs)("div",{className:"jsx-ec83d9b729de14f4",children:[t.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},className:"jsx-ec83d9b729de14f4",children:"Miktar"}),t.jsx("input",{type:"number",min:"1",value:e.miktar,onChange:e=>f(r,"miktar",parseInt(e.target.value)||1),style:{width:"100%",padding:"var(--space-xs)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)"},className:"jsx-ec83d9b729de14f4"})]}),(0,t.jsxs)("div",{className:"jsx-ec83d9b729de14f4",children:[t.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},className:"jsx-ec83d9b729de14f4",children:"Tedarik\xe7i"}),t.jsx("input",{type:"text",placeholder:"Firma adı",value:e.tedarikci||"",onChange:e=>f(r,"tedarikci",e.target.value),style:{width:"100%",padding:"var(--space-xs)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)"},className:"jsx-ec83d9b729de14f4"})]})]}),(0,t.jsxs)("div",{style:{marginTop:"var(--space-sm)"},className:"jsx-ec83d9b729de14f4",children:[t.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},className:"jsx-ec83d9b729de14f4",children:"Beklenen Tarih"}),t.jsx("input",{type:"date",value:e.beklenenTarih||"",onChange:e=>f(r,"beklenenTarih",e.target.value),style:{width:"100%",padding:"var(--space-xs)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)"},className:"jsx-ec83d9b729de14f4"})]})]},r))]}),(0,t.jsxs)("div",{className:"jsx-ec83d9b729de14f4",children:[t.jsx("h3",{style:{marginBottom:"var(--space-sm)",fontSize:"0.9rem",color:"var(--color-text-muted)"},className:"jsx-ec83d9b729de14f4",children:"TAŞERON NOTLARI"}),t.jsx("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"Hangi firmaya g\xf6nderildi, ne zaman d\xf6necek, iletişim bilgileri vs...",style:{width:"100%",padding:"var(--space-sm)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",minHeight:"120px",resize:"vertical"},className:"jsx-ec83d9b729de14f4"})]})]}),(0,t.jsxs)("div",{style:{padding:"var(--space-lg)",borderTop:"1px solid var(--color-border)",display:"flex",gap:"var(--space-sm)"},className:"jsx-ec83d9b729de14f4",children:[t.jsx("button",{onClick:l,style:{flex:1},className:"jsx-ec83d9b729de14f4 btn btn-secondary",children:"İptal"}),t.jsx("button",{onClick:()=>{o(d.filter(e=>""!==e.parcaAdi.trim()),u),l()},style:{flex:2},className:"jsx-ec83d9b729de14f4 btn btn-primary",children:"\uD83D\uDCBE Kaydet"})]})]}),t.jsx(x(),{id:"ec83d9b729de14f4",children:"@-webkit-keyframes slideIn{from{-webkit-transform:translatex(100%);transform:translatex(100%)}to{-webkit-transform:translatex(0);transform:translatex(0)}}@-moz-keyframes slideIn{from{-moz-transform:translatex(100%);transform:translatex(100%)}to{-moz-transform:translatex(0);transform:translatex(0)}}@-o-keyframes slideIn{from{-o-transform:translatex(100%);transform:translatex(100%)}to{-o-transform:translatex(0);transform:translatex(0)}}@keyframes slideIn{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}}"})]})}var h=a(6824);let v=["RANDEVU_VERILDI","DEVAM_EDIYOR","PARCA_BEKLIYOR","MUSTERI_ONAY_BEKLIYOR","RAPOR_BEKLIYOR","KESIF_KONTROL","TAMAMLANDI"],b=["YATMARIN","NETSEL","DIS_SERVIS"];function g(){let[e,r]=(0,s.useState)([]),[a,n]=(0,s.useState)(["RANDEVU_VERILDI","DEVAM_EDIYOR","PARCA_BEKLIYOR","MUSTERI_ONAY_BEKLIYOR","RAPOR_BEKLIYOR","KESIF_KONTROL"]),[o,d]=(0,s.useState)(["YATMARIN","NETSEL","DIS_SERVIS"]),[c,m]=(0,s.useState)(""),[p,x]=(0,s.useState)("tarih"),[g,k]=(0,s.useState)(null),[j,S]=(0,s.useState)(null),D=e=>{n(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},R=e=>{d(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},I=async(e,a)=>{"TAMAMLANDI"===a?k(e):("PARCA_BEKLIYOR"===a?(r(r=>r.map(r=>r.id===e.id?{...r,durum:a}:r)),S(e)):r(r=>r.map(r=>r.id===e.id?{...r,durum:a}:r)),await (0,h.Pg)(e.id,{durum:a}))},C=async(e,a)=>{if(g){let t={durum:"TAMAMLANDI",kapanisRaporu:e,atananPersonel:a};r(e=>e.map(e=>e.id===g.id?{...e,...t}:e)),await (0,h.Pg)(g.id,t)}},z=async(e,a)=>{if(j){let t={bekleyenParcalar:e,taseronNotlari:a};r(e=>e.map(e=>e.id===j.id?{...e,...t}:e)),await (0,h.Pg)(j.id,t)}},A=e.filter(e=>{let r=a.includes(e.durum),t=o.includes((0,l.G7)(e.adres)),s=e.tekneAdi.toLowerCase().includes(c.toLowerCase())||e.servisAciklamasi.toLowerCase().includes(c.toLowerCase());return r&&t&&s}),N=[...A].sort((e,r)=>"tarih"===p?new Date(r.tarih).getTime()-new Date(e.tarih).getTime():"konum"===p?(0,l.G7)(e.adres).localeCompare((0,l.G7)(r.adres)):"durum"===p?v.indexOf(e.durum)-v.indexOf(r.durum):0);return(0,t.jsxs)("div",{className:"animate-fade-in",children:[(0,t.jsxs)("header",{className:"page-header",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"page-title",children:"\uD83D\uDCC5 Servis Planlama"}),(0,t.jsxs)("p",{style:{color:"var(--color-text-muted)"},children:[A.length," / ",e.length," servis g\xf6steriliyor"]})]}),t.jsx(i.default,{href:"/planlama/yeni",className:"btn btn-primary",children:"➕ Yeni Servis Ekle"})]}),(0,t.jsxs)("div",{className:"card",style:{marginBottom:"var(--space-lg)"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"var(--space-md)",marginBottom:"var(--space-md)",flexWrap:"wrap"},children:[t.jsx("input",{type:"text",placeholder:"\uD83D\uDD0D Tekne adı veya a\xe7ıklama ara...",className:"form-input",style:{flex:1,minWidth:"250px"},value:c,onChange:e=>m(e.target.value)}),(0,t.jsxs)("select",{className:"form-select",style:{width:"150px"},value:p,onChange:e=>x(e.target.value),children:[t.jsx("option",{value:"tarih",children:"Tarihe G\xf6re"}),t.jsx("option",{value:"konum",children:"Konuma G\xf6re"}),t.jsx("option",{value:"durum",children:"Duruma G\xf6re"})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"var(--space-md)"},children:[t.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)",marginBottom:"var(--space-xs)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Durum"}),t.jsx("div",{style:{display:"flex",gap:"var(--space-xs)",flexWrap:"wrap"},children:v.map(e=>(0,t.jsxs)("button",{onClick:()=>D(e),style:{padding:"4px 10px",fontSize:"0.7rem",fontWeight:600,borderRadius:"var(--radius-full)",border:a.includes(e)?`2px solid ${l.FI[e].color}`:"1px solid var(--color-border)",background:a.includes(e)?l.FI[e].color:"transparent",color:a.includes(e)?"white":"var(--color-text-muted)",cursor:"pointer"},children:[l.FI[e].icon," ",l.FI[e].label]},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)",marginBottom:"var(--space-xs)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Konum"}),t.jsx("div",{style:{display:"flex",gap:"var(--space-xs)"},children:b.map(e=>(0,t.jsxs)("button",{onClick:()=>R(e),style:{padding:"4px 12px",fontSize:"0.75rem",fontWeight:600,borderRadius:"var(--radius-md)",border:o.includes(e)?`2px solid ${l.YH[e].color}`:"1px solid var(--color-border)",background:o.includes(e)?l.YH[e].color:"transparent",color:o.includes(e)?"white":"var(--color-text-muted)",cursor:"pointer"},children:[l.YH[e].icon," ",l.YH[e].label]},e))})]})]}),t.jsx("div",{className:"table-container",children:(0,t.jsxs)("table",{className:"table",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:"Tarih"}),t.jsx("th",{children:"Tekne"}),t.jsx("th",{children:"Konum"}),t.jsx("th",{children:"Servis"}),t.jsx("th",{children:"Durum"}),t.jsx("th",{children:"Sorumlu / Ofis"}),t.jsx("th",{children:"İşlemler"})]})}),t.jsx("tbody",{children:N.map(e=>t.jsx(y,{service:e,onDurumChange:r=>I(e,r),onPartsClick:()=>S(e)},e.id))})]})}),t.jsx(u,{service:g,isOpen:!!g,onClose:()=>k(null),onComplete:C}),t.jsx(f,{serviceId:j?.id||"",tekneAdi:j?.tekneAdi||"",initialParcalar:j?.bekleyenParcalar,initialNot:j?.taseronNotlari,isOpen:!!j,onClose:()=>S(null),onSave:z})]})}function y({service:e,onDurumChange:r,onPartsClick:a}){let[o,d]=(0,s.useState)(!1),c=(0,l.G7)(e.adres);return(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[t.jsx("div",{style:{fontWeight:600},children:e.tarih}),e.saat&&t.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-primary-light)"},children:e.saat})]}),t.jsx("td",{children:t.jsx(i.default,{href:`/planlama/${e.id}`,style:{fontWeight:500,color:"var(--color-text)",textDecoration:"none"},children:e.tekneAdi})}),(0,t.jsxs)("td",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:l.YH[c].color}}),t.jsx("span",{children:e.adres})]}),t.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:e.yer})]}),t.jsx("td",{style:{maxWidth:"250px"},children:t.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.servisAciklamasi})}),(0,t.jsxs)("td",{children:[(0,t.jsxs)("div",{style:{position:"relative"},children:[t.jsx("button",{onClick:()=>d(!o),style:{background:"none",border:"none",cursor:"pointer",padding:0},children:t.jsx(n.Z,{durum:e.durum})}),o&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{onClick:()=>d(!1),style:{position:"fixed",inset:0,zIndex:50}}),t.jsx("div",{style:{position:"absolute",top:"100%",left:0,background:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)",zIndex:51,minWidth:"180px",padding:"var(--space-xs)"},children:Object.entries(l.FI).map(([a,s])=>(0,t.jsxs)("button",{onClick:()=>{r(a),d(!1)},style:{display:"block",width:"100%",textAlign:"left",padding:"var(--space-sm)",border:"none",background:e.durum===a?s.color:"transparent",color:e.durum===a?"white":"var(--color-text)",cursor:"pointer",borderRadius:"var(--radius-sm)",fontSize:"0.8rem"},children:[s.icon," ",s.label]},a))})]})]}),"PARCA_BEKLIYOR"===e.durum&&e.bekleyenParcalar&&e.bekleyenParcalar.length>0&&(0,t.jsxs)("button",{onClick:a,style:{marginTop:"4px",fontSize:"0.65rem",color:"var(--color-warning)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:[e.bekleyenParcalar.length," par\xe7a bekliyor"]})]}),t.jsx("td",{children:(0,t.jsxs)("div",{style:{fontSize:"0.8rem"},children:[(0,t.jsxs)("div",{style:{fontWeight:500},children:["\uD83D\uDC64 ",e.atananPersonel.find(e=>"sorumlu"===e.rol)?.personnelAd||"-"]}),e.ofisYetkilisi&&(0,t.jsxs)("div",{style:{color:"var(--color-text-muted)",fontSize:"0.75rem"},children:["\uD83C\uDFE2 ",e.ofisYetkilisi]})]})}),t.jsx("td",{children:t.jsx(i.default,{href:`/planlama/${e.id}/duzenle`,className:"btn btn-secondary",style:{fontSize:"0.7rem",padding:"4px 8px"},children:"✏️ D\xfczenle"})})]})}},50242:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});var t=a(10326),s=a(21923);function i({durum:e,showIcon:r=!0}){let a=s.FI[e];return(0,t.jsxs)("span",{className:"badge",style:{backgroundColor:a.bgColor,color:a.color,display:"inline-flex",alignItems:"center",gap:"4px"},children:[r&&t.jsx("span",{children:a.icon}),t.jsx("span",{children:a.label})]})}},6824:(e,r,a)=>{"use strict";async function t(e){let r=await fetch(e);if(!r.ok)throw Error(`Failed to fetch ${e}: ${r.statusText}`);return r.json()}async function s(){return t("/api/services")}async function i(e,r){return(await fetch(`/api/services/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok}async function n(){return t("/api/personnel")}a.d(r,{$c:()=>n,Pg:()=>i,Qz:()=>s})},30003:(e,r,a)=>{"use strict";a.d(r,{NJ:()=>s,xm:()=>i});var t=a(21923);function s(e,r){let a=t.sY[r],s=0;return a.forEach(r=>{e[r]&&s++}),e.aciklama&&e.aciklama.length>20&&(s+=.5),s/(a.length+.5)}function i(e,r,a,s){let i;let n=t.Ib[r].carpan,l=(i="sorumlu"===a?40+60*e:80)*n;return s&&(l+=15),{hamPuan:Math.round(i),zorlukCarpani:n,finalPuan:Math.round(l)}}},8472:()=>{},51596:(e,r,a)=>{"use strict";a(8472);var t=a(17577),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(t),i="undefined"!=typeof process&&process.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var r=void 0===e?{}:e,a=r.name,t=void 0===a?"stylesheet":a,s=r.optimizeForSpeed,l=void 0===s?i:s;o(n(t),"`name` must be a string"),this._name=t,this._deletedRulePlaceholder="#"+t+"-deleted-rule____{}",o("boolean"==typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var r=e.prototype;return r.setOptimizeForSpeed=function(e){o("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;o(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(r,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:r}:e._serverSheet.cssRules.push({cssText:r}),a},deleteRule:function(r){e._serverSheet.cssRules[r]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===e)return document.styleSheets[r]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,r){return o(n(e),"`insertRule` accepts only strings"),"number"!=typeof r&&(r=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,r),this._rulesCount++},r.replaceRule=function(e,r){this._optimizeForSpeed;var a=this._serverSheet;if(r.trim()||(r=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(r,e)}catch(t){i||console.warn("StyleSheet: illegal rule: \n\n"+r+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}return e},r.deleteRule=function(e){this._serverSheet.deleteRule(e)},r.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},r.cssRules=function(){return this._serverSheet.cssRules},r.makeStyleTag=function(e,r,a){r&&o(n(r),"makeStyleTag accepts only strings as second parameter");var t=document.createElement("style");this._nonce&&t.setAttribute("nonce",this._nonce),t.type="text/css",t.setAttribute("data-"+e,""),r&&t.appendChild(document.createTextNode(r));var s=document.head||document.getElementsByTagName("head")[0];return a?s.insertBefore(t,a):s.appendChild(t),t},function(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function o(e,r){if(!e)throw Error("StyleSheet: "+r+".")}var d=function(e){for(var r=5381,a=e.length;a;)r=33*r^e.charCodeAt(--a);return r>>>0},c={};function u(e,r){if(!r)return"jsx-"+e;var a=String(r),t=e+a;return c[t]||(c[t]="jsx-"+d(e+"-"+a)),c[t]}function m(e,r){var a=e+(r=r.replace(/\/style/gi,"\\/style"));return c[a]||(c[a]=r.replace(/__jsx-style-dynamic-selector/g,e)),c[a]}var p=t.createContext(null);p.displayName="StyleSheetContext",s.default.useInsertionEffect||s.default.useLayoutEffect;var x=void 0;function f(e){var r=x||t.useContext(p);return r&&r.add(e),null}f.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},r.style=f},77626:(e,r,a)=>{"use strict";e.exports=a(51596).style},21923:(e,r,a)=>{"use strict";a.d(r,{DV:()=>x,FI:()=>t,G7:()=>i,GS:()=>m,Ib:()=>n,Rf:()=>l,YH:()=>s,YU:()=>p,pb:()=>d,qY:()=>c,sY:()=>o,un:()=>u});let t={RANDEVU_VERILDI:{label:"Randevu Verildi",color:"#0891b2",bgColor:"#ecfeff",icon:"\uD83D\uDCC5"},DEVAM_EDIYOR:{label:"Devam Ediyor",color:"#16a34a",bgColor:"#f0fdf4",icon:"\uD83D\uDD04"},PARCA_BEKLIYOR:{label:"Par\xe7a Bekliyor",color:"#ea580c",bgColor:"#fff7ed",icon:"\uD83D\uDCE6"},MUSTERI_ONAY_BEKLIYOR:{label:"Onay Bekliyor",color:"#ca8a04",bgColor:"#fefce8",icon:"⏳"},RAPOR_BEKLIYOR:{label:"Rapor Bekliyor",color:"#2563eb",bgColor:"#eff6ff",icon:"\uD83D\uDCDD"},KESIF_KONTROL:{label:"Keşif-Kontrol",color:"#9333ea",bgColor:"#faf5ff",icon:"\uD83D\uDD0D"},TAMAMLANDI:{label:"Tamamlandı",color:"#57534e",bgColor:"#f5f5f4",icon:"✅"}},s={YATMARIN:{label:"Yatmarin (Merkez)",color:"#0f766e",icon:"\uD83C\uDFE0"},NETSEL:{label:"Netsel",color:"#1d4ed8",icon:"⚓"},DIS_SERVIS:{label:"Dış Servis",color:"#7c3aed",icon:"\uD83D\uDE97"}};function i(e){let r=e.toUpperCase();return r.includes("YATMARİN")||r.includes("YATMARIN")?"YATMARIN":r.includes("NETSEL")?"NETSEL":"DIS_SERVIS"}let n={PAKET:{label:"Paket İş (Rutin)",carpan:1},ARIZA:{label:"Arıza / Keşif",carpan:1.2},PROJE:{label:"Proje / Refit",carpan:1.5}},l={usta:{label:"Usta",icon:"\uD83D\uDC68‍\uD83D\uDD27"},cirak:{label:"\xc7ırak",icon:"\uD83D\uDC77"},yonetici:{label:"Y\xf6netici",icon:"\uD83D\uDC54"},ofis:{label:"Ofis",icon:"\uD83C\uDFE2"}},o={PAKET:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","stokMalzeme"],ARIZA:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","stokMalzeme"],PROJE:["uniteBilgileri","fotograf","tekneKonum","sarfMalzeme","adamSaat","taseronBilgisi","stokMalzeme"]},d={EVET:100,KISMEN:60,HAYIR:0,ATLA:null},c=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"musteriIletisimi",label:"M\xfcşteri İletişim Kalitesi",aciklama:"M\xfcşterilerle profesyonel ve saygılı iletişim kurdu mu? Şikayet aldı mı?"},{key:"planlamaKoordinasyon",label:"Planlama ve Koordinasyon",aciklama:"İş planına uydu mu? Değişiklikleri zamanında bildirdi mi?"},{key:"teknikTespit",label:"Teknik Tespit Yeteneği",aciklama:"Arızaları ve ek iş ihtiya\xe7larını doğru tespit edebildi mi?"},{key:"raporDokumantasyon",label:"Rapor ve Dok\xfcmantasyon",aciklama:"İş raporlarını eksiksiz ve zamanında teslim etti mi?"},{key:"genelLiderlik",label:"Genel Liderlik",aciklama:"Ekibini y\xf6netti mi? \xc7ıraklara rehberlik etti mi? Sorumluluk aldı mı?"}],u=[{key:"uniformaVeIsg",label:"\xdcniforma ve İSG Uyumu",aciklama:"Personel iş g\xfcvenliği ekipmanlarını (KKD) kullandı mı? \xdcniforma temiz ve d\xfczg\xfcn m\xfcyd\xfc?"},{key:"ekipIciDavranis",label:"Ekip İ\xe7i Davranış",aciklama:"Ekip arkadaşlarıyla uyumlu \xe7alıştı mı? \xc7atışma veya tutum problemi var mıydı?"},{key:"destekKalitesi",label:"Ustalara Destek Kalitesi",aciklama:"Ustalara verilen g\xf6revlerde yardımcı oldu mu? Talimatlara uydu mu?"},{key:"ogrenmeGelisim",label:"\xd6ğrenme İsteği ve Gelişim",aciklama:"Bu ay yeni bir şey \xf6ğrendi mi? Soru sordu mu? İlerleme kaydetti mi?"}],m={1:{label:"\xc7ok Yetersiz",color:"#ef4444"},2:{label:"Geliştirilmeli",color:"#f97316"},3:{label:"Standart",color:"#eab308"},4:{label:"İyi",color:"#22c55e"},5:{label:"M\xfckemmel",color:"#10b981"}},p=["Furkan \xc7akır","İsmail \xc7oban","Senem Kaptan","Diğer"],x=[{id:"1",ad:"Ali Can Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"2",ad:"Alican Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"3",ad:"Batuhan \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"4",ad:"C\xfcneyt Yaylalı",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"5",ad:"Emre Kaya",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"6",ad:"Erhan Turhan",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"7",ad:"Halil İbrahim Duru",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"8",ad:"İbrahim Yayalık",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"9",ad:"İbrahim Yaylalı",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"10",ad:"Mehmet Bacak",rol:"teknisyen",unvan:"cirak",aktif:!1},{id:"11",ad:"Mehmet G\xfcven",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"12",ad:"Melih \xc7oban",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"13",ad:"Sercan Sarız",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"14",ad:"Volkan \xd6zkan",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"15",ad:"Yusuf Kara",rol:"teknisyen",unvan:"cirak",aktif:!0},{id:"16",ad:"Ahmet Demir",rol:"teknisyen",unvan:"usta",aktif:!0},{id:"17",ad:"Mustafa Yıldız",rol:"teknisyen",unvan:"cirak",aktif:!0}]},36544:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\Users\furkan.cakir\Desktop\ServicePro\ServicePro_Demo\app\planlama\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[9276,5345,9444],()=>a(49329));module.exports=t})();