(()=>{var e={};e.id=649,e.ids=[649],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61245:(e,r,i)=>{"use strict";i.r(r),i.d(r,{GlobalError:()=>a.a,__next_app__:()=>c,originalPathname:()=>x,pages:()=>p,routeModule:()=>u,tree:()=>d}),i(97556),i(24268),i(35866);var t=i(23191),s=i(88716),o=i(37922),a=i.n(o),l=i(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);i.d(r,n);let d=["",{children:["servisler",{children:["yeni",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,97556)),"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\servisler\\yeni\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,24268)),"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\servisler\\yeni\\page.tsx"],x="/servisler/yeni/page",c={require:i,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/servisler/yeni/page",pathname:"/servisler/yeni",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},78792:(e,r,i)=>{Promise.resolve().then(i.bind(i,43179))},43179:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>x});var t=i(10326),s=i(17577),o=i(35047),a=i(74723),l=i(74064),n=i(53670),d=i(67773);let p=n.Ryn({tekneId:n.Z_8().min(1,"Tekne se\xe7iniz"),tarih:n.Z_8().min(1,"Tarih giriniz"),saat:n.Z_8().optional(),isTuru:n.KmV(["PAKET","ARIZA","PROJE"]),adres:n.Z_8().min(1,"Adres giriniz"),yer:n.Z_8().min(1,"Lokasyon giriniz"),servisAciklamasi:n.Z_8().min(5,"Servis a\xe7ıklaması en az 5 karakter olmalı"),irtibatKisi:n.Z_8().optional(),telefon:n.Z_8().optional(),durum:n.KmV(["RANDEVU_VERILDI","DEVAM_EDIYOR","PARCA_BEKLIYOR","MUSTERI_ONAY_BEKLIYOR","RAPOR_BEKLIYOR","KESIF_KONTROL","TAMAMLANDI"]),taseronNotlari:n.Z_8().optional()});function x(){let e=(0,o.useRouter)(),{user:r,isAuthenticated:i}=(0,d.a)(),[n,x]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[g,h]=(0,s.useState)(!0),[m,f]=(0,s.useState)(!1),[b,y]=(0,s.useState)(""),{register:v,handleSubmit:j,formState:{errors:k}}=(0,a.cI)({resolver:(0,l.F)(p),defaultValues:{tekneId:"",tarih:new Date().toISOString().split("T")[0],durum:"RANDEVU_VERILDI",isTuru:"PAKET"}}),S=async i=>{f(!0),y("");try{let t=await fetch("/api/services",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...i,tekneAdi:n.find(e=>e.id===i.tekneId)?.ad||"",userId:r?.id,userEmail:r?.email})});if(!t.ok){let e=await t.json();throw Error(e.error||"Servis oluşturulamadı")}e.push("/servisler")}catch(e){y(e instanceof Error?e.message:"Bir hata oluştu"),f(!1)}};return g?t.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Y\xfckleniyor..."}):(0,t.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"32px"},children:[t.jsx("h1",{style:{fontSize:"28px",fontWeight:700,marginBottom:"8px"},children:"Yeni Servis"}),t.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Yeni servis kaydı oluşturun"})]}),b&&(0,t.jsxs)("div",{style:{padding:"16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",marginBottom:"24px"},children:["⚠️ ",b]}),(0,t.jsxs)("form",{onSubmit:j(S),style:{background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"32px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:["Tekne ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,t.jsxs)("select",{...v("tekneId"),style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"},children:[t.jsx("option",{value:"",children:"Tekne Se\xe7in"}),n.map(e=>t.jsx("option",{value:e.id,children:e.ad},e.id))]}),k.tekneId&&t.jsx("span",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:k.tekneId.message})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:["Tarih ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",...v("tarih"),style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),k.tarih&&t.jsx("span",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:k.tarih.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"Saat"}),t.jsx("input",{type:"time",...v("saat"),style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[(0,t.jsxs)("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"İş T\xfcr\xfc"}),(0,t.jsxs)("select",{...v("isTuru"),style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"},children:[t.jsx("option",{value:"PAKET",children:"Paket İş"}),t.jsx("option",{value:"ARIZA",children:"Arıza / Keşif"}),t.jsx("option",{value:"PROJE",children:"Proje / Refit"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"Durum"}),(0,t.jsxs)("select",{...v("durum"),style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"},children:[t.jsx("option",{value:"RANDEVU_VERILDI",children:"Randevu Verildi"}),t.jsx("option",{value:"DEVAM_EDIYOR",children:"Devam Ediyor"}),t.jsx("option",{value:"PARCA_BEKLIYOR",children:"Par\xe7a Bekliyor"}),t.jsx("option",{value:"MUSTERI_ONAY_BEKLIYOR",children:"M\xfcşteri Onay Bekliyor"}),t.jsx("option",{value:"RAPOR_BEKLIYOR",children:"Rapor Bekliyor"}),t.jsx("option",{value:"KESIF_KONTROL",children:"Keşif-Kontrol"}),t.jsx("option",{value:"TAMAMLANDI",children:"Tamamlandı"})]})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"16px",marginBottom:"24px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:["Adres ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",...v("adres"),placeholder:"Teknenin bulunduğu adres",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),k.adres&&t.jsx("span",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:k.adres.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:["Lokasyon ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",...v("yer"),placeholder:"Yatmarin / Netsel / Dış",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),k.yer&&t.jsx("span",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:k.yer.message})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:["Servis A\xe7ıklaması ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("textarea",{...v("servisAciklamasi"),rows:4,placeholder:"Servisin detaylı a\xe7ıklaması...",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",resize:"vertical"}}),k.servisAciklamasi&&t.jsx("span",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:k.servisAciklamasi.message})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[(0,t.jsxs)("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"İrtibat Kişi"}),t.jsx("input",{type:"text",...v("irtibatKisi"),placeholder:"M\xfcşteri yetkilisi",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"Telefon"}),t.jsx("input",{type:"tel",...v("telefon"),placeholder:"Telefon numarası",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"Taşeron Notları"}),t.jsx("textarea",{...v("taseronNotlari"),rows:2,placeholder:"Taşeron varsa notlar...",style:{width:"100%",padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",resize:"vertical"}})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"flex-end"},children:[t.jsx("button",{type:"button",onClick:()=>e.back(),disabled:m,style:{padding:"12px 24px",background:"transparent",color:"var(--color-text-muted)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"İptal"}),t.jsx("button",{type:"submit",disabled:m,style:{padding:"12px 32px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",cursor:m?"not-allowed":"pointer",fontWeight:500,opacity:m?.5:1},children:m?"Kaydediliyor...":"Servis Oluştur"})]})]})]})}},67773:(e,r,i)=>{"use strict";i.d(r,{a:()=>t.a});var t=i(472)},97556:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>t});let t=(0,i(68570).createProxy)(String.raw`C:\Users\furkan.cakir\Desktop\ServicePro\ServicePro_Demo\app\servisler\yeni\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var i=e=>r(r.s=e),t=r.X(0,[9276,5345,5336,9444],()=>i(61245));module.exports=t})();