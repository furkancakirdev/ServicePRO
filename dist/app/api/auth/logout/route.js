"use strict";(()=>{var e={};e.id=7716,e.ids=[7716],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},96035:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g});var a={};r.r(a),r.d(a,{POST:()=>c});var o=r(49303),n=r(88716),s=r(60670),i=r(87070),u=r(46569),l=r(72331);async function c(e){try{let t=e.headers.get("authorization"),r=(0,u.so)(t);if(r){let e=await (0,u.WX)(r);e&&await l._.auditLog.create({data:{userId:e.userId,userEmail:e.email,islemTuru:"LOGOUT",entityTipi:"User",entityId:e.userId,detay:"Kullanıcı \xe7ıkış yaptı"}})}return i.NextResponse.json({success:!0,message:"\xc7ıkış başarılı"})}catch(e){return console.error("Logout error:",e),i.NextResponse.json({success:!0,message:"\xc7ıkış başarılı"})}}let p=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/logout/route",pathname:"/api/auth/logout",filename:"route",bundlePath:"app/api/auth/logout/route"},resolvedPagePath:"C:\\Users\\furkan.cakir\\Desktop\\ServicePro\\ServicePro_Demo\\app\\api\\auth\\logout\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:m}=p,h="/api/auth/logout/route";function v(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}},72331:(e,t,r)=>{r.d(t,{_:()=>o});var a=r(53524);let o=global.prisma||new a.PrismaClient({log:["error"]})},46569:(e,t,r)=>{r.d(t,{RA:()=>s,WX:()=>i,so:()=>u});var a=r(86890),o=r(41463);let n=new TextEncoder().encode(process.env.JWT_SECRET||"fallback-secret-change-in-production");async function s(e){return await new a.N({...e}).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7d").sign(n)}async function i(e){try{let{payload:t}=await (0,o._)(e,n);if("userId"in t&&"email"in t&&"role"in t)return t;return null}catch(e){return console.error("Token verification failed:",e),null}}function u(e){return e?.startsWith("Bearer ")?e.substring(7):null}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,5972,1814],()=>r(96035));module.exports=a})();